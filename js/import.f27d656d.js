(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["import"],{"0cec":function(t,e,r){"use strict";const n=t=>{let e=!1,r=!1,n=!1;for(let a=0;a<t.length;a++){const o=t[a];e&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(t=t.slice(0,a)+"-"+t.slice(a),e=!1,n=r,r=!0,a++):r&&n&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(t=t.slice(0,a-1)+"-"+t.slice(a-1),n=r,r=!1,e=!0):(e=o.toLowerCase()===o&&o.toUpperCase()!==o,n=r,r=o.toUpperCase()===o&&o.toLowerCase()!==o)}return t},a=(t,e)=>{if("string"!==typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");e=Object.assign({pascalCase:!1},e);const r=t=>e.pascalCase?t.charAt(0).toUpperCase()+t.slice(1):t;if(t=Array.isArray(t)?t.map(t=>t.trim()).filter(t=>t.length).join("-"):t.trim(),0===t.length)return"";if(1===t.length)return e.pascalCase?t.toUpperCase():t.toLowerCase();const a=t!==t.toLowerCase();return a&&(t=n(t)),t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(t,e)=>e.toUpperCase()).replace(/\d+(\w|$)/g,t=>t.toUpperCase()),r(t)};t.exports=a,t.exports.default=a},"4fad":function(t,e,r){var n=r("23e7"),a=r("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return a(t)}})},"6cb8":function(t,e,r){function n(){if(!(this instanceof n))return new n;this.version=n.versions[n.versions.length-1],this.data={}}n.mimeType="text/vcard",n.extension=".vcf",n.versions=["2.1","3.0","4.0"],n.EOL="\r\n",n.foldLine=r("8db9"),n.normalize=function(t){return(t+"").replace(/^[\s\r\n]+|[\s\r\n]+$/g,"").replace(/(\r\n)[\x09\x20]?(\r\n)|$/g,"$1").replace(/\r\n[\x20\x09]/g,"")},n.isSupported=function(t){return/^\d\.\d$/.test(t)&&-1!==n.versions.indexOf(t)},n.parse=function(t){for(var e=(t+"").split(/(?=BEGIN\:VCARD)/gi),r=[],a=0;a<e.length;a++)r.push((new n).parse(e[a]));return r},n.parseLines=r("fb81"),n.fromJSON=function(t){if(t="string"===typeof t?JSON.parse(t):t,null==t||!Array.isArray(t))return new n;if(!/vcard/i.test(t[0]))throw new Error("Object not in jCard format");var e=new n;return t[1].forEach((function(t){e.addProperty(n.Property.fromJSON(t))})),e},n.format=function(t,e){if(e=e||t.version||n.versions[n.versions.length-1],!n.isSupported(e))throw new Error('Unsupported vCard version "'+e+'"');var r=[];r.push("BEGIN:VCARD"),r.push("VERSION:"+e);for(var a=Object.keys(t.data),o="",i=0;i<a.length;i++)if("version"!==a[i])if(o=t.data[a[i]],Array.isArray(o))for(var s=0;s<o.length;s++)o[s].isEmpty()||r.push(n.foldLine(o[s].toString(e),75));else o.isEmpty()||r.push(n.foldLine(o.toString(e),75));return r.push("END:VCARD"),r.join(n.EOL)},n.Property=r("95e3"),n.prototype={constructor:n,get:function(t){return null==this.data[t]?this.data[t]:Array.isArray(this.data[t])?this.data[t].map((function(t){return t.clone()})):this.data[t].clone()},set:function(t,e,r){return this.setProperty(new n.Property(t,e,r))},add:function(t,e,r){var a=new n.Property(t,e,r);return this.addProperty(a),this},setProperty:function(t){return this.data[t._field]=t,this},addProperty:function(t){var e=t._field;return Array.isArray(this.data[e])?this.data[e].push(t):null!=this.data[e]?this.data[e]=[this.data[e],t]:this.data[e]=t,this},parse:function(t){var e=n.normalize(t).split(/\r\n/g),r=e[0],a=e[1],o=e[e.length-1];if(!/BEGIN:VCARD/i.test(r))throw new SyntaxError('Invalid vCard: Expected "BEGIN:VCARD" but found "'+r+'"');if(!/END:VCARD/i.test(o))throw new SyntaxError('Invalid vCard: Expected "END:VCARD" but found "'+o+'"');if(!/VERSION:\d\.\d/i.test(a))throw new SyntaxError('Invalid vCard: Expected "VERSION:\\d.\\d" but found "'+a+'"');if(this.version=a.substring(8,11),!n.isSupported(this.version))throw new Error('Unsupported version "'+this.version+'"');return this.data=n.parseLines(e),this},toString:function(t,e){return t=t||this.version,n.format(this,t)},toJCard:function(t){t=t||"4.0";for(var e=Object.keys(this.data),r=[["version",{},"text",t]],n=null,a=0;a<e.length;a++)if("version"!==e[a])if(n=this.data[e[a]],Array.isArray(n))for(var o=0;o<n.length;o++)r.push(n[o].toJSON());else r.push(n.toJSON());return["vcard",r]},toJSON:function(){return this.toJCard(this.version)}},t.exports=n},7989:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("h1",[t._v("Import")]),t._v(" Import a list of contacts. multi-contacts exemple contacts.vcf "),r("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),t._v(" "+t._s(t.contacts.length)+" imports "),r("b-button",{staticClass:"m3",on:{click:t.importer}},[t._v("Import")]),r("b-list-group",t._l(t.contacts,(function(e,n){return r("b-list-group-item",{key:n},[r("b-form-checkbox",{attrs:{id:"checkbox-"+n,name:"checkbox-1"},model:{value:e.checked,callback:function(r){t.$set(e,"checked",r)},expression:"contact.checked"}},[r("h6",[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-2"+n,expression:"'collapse-2'+i"}],staticClass:"m-1",attrs:{variant:"info",size:"sm"}},[t._v("+")]),t._v(" "+t._s(e.get("n")||e.get("fn"))+" ")],1)]),r("b-collapse",{attrs:{id:"collapse-2"+n}},[r("b-card",[t._v(t._s(e.checked)),r("small",[t._v(t._s(e.data))])])],1)],1)})),1)],1)},a=[],o=(r("4160"),r("4fad"),r("2ca0"),r("159b"),r("3835")),i=r("6cb8"),s=r.n(i),c=r("f1dd"),l=r.n(c),u=r("98e8"),h=r.n(u),d=r("d72f");console.log(h.a);var f={name:"Import",data:function(){return{file:null,contacts:[]}},watch:{file:function(t){if(console.log(t),t){var e=this,r=new FileReader;r.readAsText(t,"UTF-8"),r.onload=function(t){e.contacts=s.a.parse(t.target.result),e.contacts.forEach((function(t){t.checked=!0})),console.log(e.contacts)},r.onerror=function(t){console.log("ERROR",t.target.result)}}}},methods:{importer:function(){var t=this;console.log(this.contacts),this.contacts.forEach((function(e){if(e.checked&&1==e.checked){var r=t.convert(e);console.log(r),t.vcard=new d["a"](r),console.log("vcard",t.vcard),t.$store.dispatch("contacts/add",t.vcard),t.$router.push({name:"Contacts",params:{vcard:t.vcard}})}}))},convert:function(t){var e=this;console.log(t.data);for(var r={},n=function(t){return{n:"vcard:hasName",fn:"vcard:FamilyName",tel:"vcard:hasTelephone",email:"vcard:hasEmail",bday:"vcard:bday",adr:"vcard:hasAddress",org:"vcard:org",title:"vcard:title",url:"vcard:hasURL",photo:"vcard:hasPhoto",note:"vcar:note"}[t]},a=function(){var t=Object(o["a"])(s[i],2),a=t[0],c=t[1];if(!a.startsWith("="))if(console.log(a,c),Array.isArray(c))c.forEach((function(t){var o=e.translate(a,t);console.log(o);var i=n(a);r[i]=o}));else{var l=e.translate(a,c);console.log(l);var u=n(a);r[u]=l}},i=0,s=Object.entries(t.data);i<s.length;i++)a();return r},translate:function(t,e){return console.log(t,e),"QUOTED-PRINTABLE"==e.encoding?l.a.decode(h.a.decode(e._data)):"BASE64"==e.encoding?(console.log("todo ? decode base64 img or let the base 64 ?"),e._data):e._data}}},p=f,v=r("2877"),g=Object(v["a"])(p,n,a,!1,null,null,null);e["default"]=g.exports},"8db9":function(t,e){const r="\r\n",n=" ",a=998,o=78,i=2;function s(t,e,s){if(null!=e&&e<i)throw new Error("Maximum length must not be less than "+i);if(null!=e&&e>a)throw new Error("Maximum length must not exceed "+a);if(e=e||o,t=t.replace(/[\r\n]+/g,""),t.length<=e)return t;var c="",l=0,u=0,h=t.length,d=0,f=0;while(l<h){if(!s&&~(u=t.lastIndexOf(n,l+e))?u>l?(c+=t.slice(l,u)+r+n,l=u):(c+=t.slice(l,l+e-f)+r+n,l=l+e-f,s=!0):(c+=t.slice(l,l+e-f)+r+n,l=l+e-f),h-l<e){c+=t.slice(l);break}0===d&&(f=1),d++}return c}s.unfold=function(t){return t.replace(/\r\n\s/gm,"")},t.exports=s},"95e3":function(t,e){function r(t,e,n){if(!(this instanceof r))return new r(e);null!=n&&Object.assign(this,n),this._field=t,this._data=e,Object.defineProperty(this,"_field",{enumerable:!1}),Object.defineProperty(this,"_data",{enumerable:!1})}function n(t){return t.replace(/([A-Z])/g,"-$1").toUpperCase()}r.fromJSON=function(t){var e=t[0],n=t[1];/text/i.test(t[2])||(n.value=t[2]);var a=Array.isArray(t[3])?t[3].join(";"):t[3];return new r(e,a,n)},r.prototype={constructor:r,is:function(t){return t=(t+"").toLowerCase(),Array.isArray(this.type)?this.type.indexOf(t)>=0:this.type===t},isEmpty:function(){return null==this._data&&0===Object.keys(this).length},clone:function(){return new r(this._field,this._data,this)},toString:function(t){for(var e=(this.group?this.group+".":"")+n(this._field),r=Object.keys(this),a=[],o=0;o<r.length;o++)if("group"!==r[o])switch(e){case"TEL":case"ADR":case"EMAIL":"2.1"===t?Array.isArray(this[r[o]])?a.push(this[r[o]].join(";")):a.push(this[r[o]]):a.push(n(r[o])+"="+this[r[o]]);break;default:a.push(n(r[o])+"="+this[r[o]])}return"2.1"===t||"3.0"===t?e+(a.length?";"+a.join(";").toUpperCase():a.toString().toUpperCase())+":"+(Array.isArray(this._data)?this._data.join(";"):this._data):e+(a.length?";"+a.join(";"):a)+":"+(Array.isArray(this._data)?this._data.join(";"):this._data)},valueOf:function(){return this._data},toJSON:function(){var t=Object.assign({},this);"text"===t.value&&(t.value=void 0,delete t.value);var e=[this._field,t,this.value||"text"];switch(this._field){default:e.push(this._data);break;case"adr":case"n":e.push(this._data.split(";"))}return e}},t.exports=r},"98e8":function(t,e,r){(function(t,n){var a;/*! https://mths.be/quoted-printable v1.0.1 by @mathias | MIT license */(function(o){var i=e,s=(t&&t.exports,"object"==typeof n&&n);s.global!==s&&s.window;var c=String.fromCharCode,l=function(t){return t.replace(/[\t\x20]$/gm,"").replace(/=(?:\r\n?|\n|$)/g,"").replace(/=([a-fA-F0-9]{2})/g,(function(t,e){var r=parseInt(e,16);return c(r)}))},u=function(t){return t.replace(/\x20$/,"=20").replace(/\t$/,"=09")},h=/[\0-\x08\n-\x1F=\x7F-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=function(t){var e=t.replace(h,(function(t){if(t>"ÿ")throw RangeError("`quotedPrintable.encode()` expects extended ASCII input only. Don’t forget to encode the input first using a character encoding like UTF-8.");var e=t.charCodeAt(0),r=e.toString(16).toUpperCase();return"="+("0"+r).slice(-2)})),r=e.split(/\r\n?|\n/g),n=-1,a=r.length,o=[];while(++n<a){var i=r[n],s=75,c=0,l=i.length;while(c<l){var d=e.slice(c,c+s);/=$/.test(d)?(d=d.slice(0,s-1),c+=s-1):/=[A-F0-9]$/.test(d)?(d=d.slice(0,s-2),c+=s-2):c+=s,o.push(d)}}var f=d.length;return/[\t\x20]$/.test(d)&&(o.pop(),f+2<=s+1?o.push(u(d)):o.push(d.slice(0,f-1),u(d.slice(f-1,f)))),o.join("=\r\n")},f={encode:d,decode:l,version:"1.0.1"};a=function(){return f}.call(e,r,e,t),void 0===a||(t.exports=a)})()}).call(this,r("62e4")(t),r("c8ba"))},c141:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("d4ec"),a=function t(){Object(n["a"])(this,t),this.jsonld={"@context":{owl:"http://www.w3.org/2002/07/owl#",as:"https://www.w3.org/ns/activitystreams",schema:"http://schema.org/"},"@id":null,"@type":"owl:Thing","schema:name":"__NEW__THING__"}}},d72f:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r("d4ec"),a=r("257e"),o=r("262e"),i=r("2caf"),s=r("c141"),c={"@id":null,"vcard:hasName":"","@type":"vcard:VCard","vcard:given-name":"","vcard:family-name":"","vcard:hasPhoto":"https://image.flaticon.com/icons/svg/149/149992.svg"},l=function(t){Object(o["a"])(r,t);var e=Object(i["a"])(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return Object(n["a"])(this,r),t=e.call(this),Object.assign(Object(a["a"])(t),o),t}return r}(s["a"])},f1dd:function(t,e,r){(function(t,n){var a;/*! https://mths.be/utf8js v2.1.2 by @mathias */(function(o){var i=e,s=(t&&t.exports,"object"==typeof n&&n);s.global!==s&&s.window;var c,l,u,h=String.fromCharCode;function d(t){var e,r,n=[],a=0,o=t.length;while(a<o)e=t.charCodeAt(a++),e>=55296&&e<=56319&&a<o?(r=t.charCodeAt(a++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),a--)):n.push(e);return n}function f(t){var e,r=t.length,n=-1,a="";while(++n<r)e=t[n],e>65535&&(e-=65536,a+=h(e>>>10&1023|55296),e=56320|1023&e),a+=h(e);return a}function p(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function v(t,e){return h(t>>e&63|128)}function g(t){if(0==(4294967168&t))return h(t);var e="";return 0==(4294965248&t)?e=h(t>>6&31|192):0==(4294901760&t)?(p(t),e=h(t>>12&15|224),e+=v(t,6)):0==(4292870144&t)&&(e=h(t>>18&7|240),e+=v(t,12),e+=v(t,6)),e+=h(63&t|128),e}function w(t){var e,r=d(t),n=r.length,a=-1,o="";while(++a<n)e=r[a],o+=g(e);return o}function y(){if(u>=l)throw Error("Invalid byte index");var t=255&c[u];if(u++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function b(){var t,e,r,n,a;if(u>l)throw Error("Invalid byte index");if(u==l)return!1;if(t=255&c[u],u++,0==(128&t))return t;if(192==(224&t)){if(e=y(),a=(31&t)<<6|e,a>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=y(),r=y(),a=(15&t)<<12|e<<6|r,a>=2048)return p(a),a;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=y(),r=y(),n=y(),a=(7&t)<<18|e<<12|r<<6|n,a>=65536&&a<=1114111))return a;throw Error("Invalid UTF-8 detected")}function m(t){c=d(t),l=c.length,u=0;var e,r=[];while(!1!==(e=b()))r.push(e);return f(r)}var x={version:"2.1.2",encode:w,decode:m};a=function(){return x}.call(e,r,e,t),void 0===a||(t.exports=a)})()}).call(this,r("62e4")(t),r("c8ba"))},fb81:function(t,e,r){var n=r("0cec"),a=r("95e3");function o(t,e,r){Array.isArray(t[e])?t[e].push(r):null!=t[e]?t[e]=[t[e],r]:t[e]=r}function i(t,e){var r=e.split("="),a=n(r[0]),i=r[1];return null!=i&&""!==i||(i=r[0],a="type"),"type"===a?('"'===i[0]&&'"'===i[i.length-1]&&-1!==i.indexOf(",")&&(i=i.slice(1,-1)),i.toLowerCase().split(",").forEach((function(e){o(t,a,e)})),t):(o(t,a,i),t)}function s(t){for(var e={},r=null,s=/^([^;:]+)((?:;(?:[^;:]+))*)(?:\:([\s\S]+))?$/i,c=t.length-1,l=1;l<c;l++){r=t[l];var u=s.exec(r);if(u){var h=u[1].split("."),d=h.pop(),f=h.pop(),p=u[3],v=u[2]?u[2].replace(/^;|;$/g,"").split(";"):[],g=v.reduce(i,f?{group:f}:{}),w=n(d),y=new a(w,p,g);o(e,w,y)}}return e}t.exports=s}}]);
//# sourceMappingURL=import.f27d656d.js.map