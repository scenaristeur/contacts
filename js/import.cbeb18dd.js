(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["import"],{"0cec":function(e,t,r){"use strict";const n=e=>{let t=!1,r=!1,n=!1;for(let a=0;a<e.length;a++){const i=e[a];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,a)+"-"+e.slice(a),t=!1,n=r,r=!0,a++):r&&n&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,a-1)+"-"+e.slice(a-1),n=r,r=!1,t=!0):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,n=r,r=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e},a=(e,t)=>{if("string"!==typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);const r=e=>t.pascalCase?e.charAt(0).toUpperCase()+e.slice(1):e;if(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim(),0===e.length)return"";if(1===e.length)return t.pascalCase?e.toUpperCase():e.toLowerCase();const a=e!==e.toLowerCase();return a&&(e=n(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(e,t)=>t.toUpperCase()).replace(/\d+(\w|$)/g,e=>e.toUpperCase()),r(e)};e.exports=a,e.exports.default=a},"4fad":function(e,t,r){var n=r("23e7"),a=r("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return a(e)}})},"6cb8":function(e,t,r){function n(){if(!(this instanceof n))return new n;this.version=n.versions[n.versions.length-1],this.data={}}n.mimeType="text/vcard",n.extension=".vcf",n.versions=["2.1","3.0","4.0"],n.EOL="\r\n",n.foldLine=r("8db9"),n.normalize=function(e){return(e+"").replace(/^[\s\r\n]+|[\s\r\n]+$/g,"").replace(/(\r\n)[\x09\x20]?(\r\n)|$/g,"$1").replace(/\r\n[\x20\x09]/g,"")},n.isSupported=function(e){return/^\d\.\d$/.test(e)&&-1!==n.versions.indexOf(e)},n.parse=function(e){for(var t=(e+"").split(/(?=BEGIN\:VCARD)/gi),r=[],a=0;a<t.length;a++)r.push((new n).parse(t[a]));return r},n.parseLines=r("fb81"),n.fromJSON=function(e){if(e="string"===typeof e?JSON.parse(e):e,null==e||!Array.isArray(e))return new n;if(!/vcard/i.test(e[0]))throw new Error("Object not in jCard format");var t=new n;return e[1].forEach((function(e){t.addProperty(n.Property.fromJSON(e))})),t},n.format=function(e,t){if(t=t||e.version||n.versions[n.versions.length-1],!n.isSupported(t))throw new Error('Unsupported vCard version "'+t+'"');var r=[];r.push("BEGIN:VCARD"),r.push("VERSION:"+t);for(var a=Object.keys(e.data),i="",o=0;o<a.length;o++)if("version"!==a[o])if(i=e.data[a[o]],Array.isArray(i))for(var s=0;s<i.length;s++)i[s].isEmpty()||r.push(n.foldLine(i[s].toString(t),75));else i.isEmpty()||r.push(n.foldLine(i.toString(t),75));return r.push("END:VCARD"),r.join(n.EOL)},n.Property=r("95e3"),n.prototype={constructor:n,get:function(e){return null==this.data[e]?this.data[e]:Array.isArray(this.data[e])?this.data[e].map((function(e){return e.clone()})):this.data[e].clone()},set:function(e,t,r){return this.setProperty(new n.Property(e,t,r))},add:function(e,t,r){var a=new n.Property(e,t,r);return this.addProperty(a),this},setProperty:function(e){return this.data[e._field]=e,this},addProperty:function(e){var t=e._field;return Array.isArray(this.data[t])?this.data[t].push(e):null!=this.data[t]?this.data[t]=[this.data[t],e]:this.data[t]=e,this},parse:function(e){var t=n.normalize(e).split(/\r\n/g),r=t[0],a=t[1],i=t[t.length-1];if(!/BEGIN:VCARD/i.test(r))throw new SyntaxError('Invalid vCard: Expected "BEGIN:VCARD" but found "'+r+'"');if(!/END:VCARD/i.test(i))throw new SyntaxError('Invalid vCard: Expected "END:VCARD" but found "'+i+'"');if(!/VERSION:\d\.\d/i.test(a))throw new SyntaxError('Invalid vCard: Expected "VERSION:\\d.\\d" but found "'+a+'"');if(this.version=a.substring(8,11),!n.isSupported(this.version))throw new Error('Unsupported version "'+this.version+'"');return this.data=n.parseLines(t),this},toString:function(e,t){return e=e||this.version,n.format(this,e)},toJCard:function(e){e=e||"4.0";for(var t=Object.keys(this.data),r=[["version",{},"text",e]],n=null,a=0;a<t.length;a++)if("version"!==t[a])if(n=this.data[t[a]],Array.isArray(n))for(var i=0;i<n.length;i++)r.push(n[i].toJSON());else r.push(n.toJSON());return["vcard",r]},toJSON:function(){return this.toJCard(this.version)}},e.exports=n},7989:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("h1",[e._v("Import")]),e._v(" Import a list of contacts. multi-contacts exemple contacts.vcf "),r("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),e._v(" "+e._s(e.contacts.length)+" imports "),r("b-button",{staticClass:"m3",on:{click:e.importer}},[e._v("Import")]),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.isCheckAll,expression:"isCheckAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isCheckAll)?e._i(e.isCheckAll,null)>-1:e.isCheckAll},on:{click:function(t){return e.checkAll()},change:function(t){var r=e.isCheckAll,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i=null,o=e._i(r,i);n.checked?o<0&&(e.isCheckAll=r.concat([i])):o>-1&&(e.isCheckAll=r.slice(0,o).concat(r.slice(o+1)))}else e.isCheckAll=a}}}),e._v(" Check All "),r("br"),r("b-list-group",e._l(e.contacts,(function(t,n){return r("b-list-group-item",{key:n},[r("b-form-checkbox",{staticClass:"contact_ckecked",attrs:{id:"checkbox-"+n,name:"checkbox-"+n},model:{value:t.checked,callback:function(r){e.$set(t,"checked",r)},expression:"contact.checked"}},[r("h6",[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-2"+n,expression:"'collapse-2'+i"}],staticClass:"m-1",attrs:{variant:"info",size:"sm"}},[e._v("+")]),e._v(" "+e._s(t.get("n")||t.get("fn"))+" ")],1)]),r("b-collapse",{attrs:{id:"collapse-2"+n}},[r("b-card",[e._v(e._s(t.checked)),r("small",[e._v(e._s(t.data))])])],1)],1)})),1)],1)},a=[],i=(r("4160"),r("4fad"),r("2ca0"),r("159b"),r("3835")),o=r("6cb8"),s=r.n(o),c=r("f1dd"),l=r.n(c),u=r("98e8"),d=r.n(u),h=r("d72f");console.log(d.a);var f={name:"Import",data:function(){return{file:null,contacts:[],isCheckAll:!1,langsdata:["PHP","Vue.js","AngularJS","jQuery","JavaScript"],languages:[],selectedlang:""}},watch:{file:function(e){if(console.log(e),e){var t=this,r=new FileReader;r.readAsText(e,"UTF-8"),r.onload=function(e){t.contacts=s.a.parse(e.target.result),t.contacts.forEach((function(e){e.checked=!0})),console.log(t.contacts)},r.onerror=function(e){console.log("ERROR",e.target.result)}}}},methods:{importer:function(){var e=this;console.log(this.contacts),this.contacts.forEach((function(t){if(t.checked&&1==t.checked){var r=e.convert(t);console.log(r),e.vcard=new h["a"](r),console.log("vcard",e.vcard),e.$store.dispatch("contacts/add",e.vcard),e.$router.push({name:"Contacts",params:{vcard:e.vcard}})}}))},convert:function(e){var t=this;console.log(e.data);for(var r={},n=function(e){return{n:"vcard:hasName",fn:"vcard:FamilyName",tel:"vcard:hasTelephone",email:"vcard:hasEmail",bday:"vcard:bday",adr:"vcard:hasAddress",org:"vcard:org",title:"vcard:title",url:"vcard:hasURL",photo:"vcard:hasPhoto",note:"vcar:note"}[e]},a=function(){var e=Object(i["a"])(s[o],2),a=e[0],c=e[1];if(!a.startsWith("="))if(console.log(a,c),Array.isArray(c))c.forEach((function(e){var i=t.translate(a,e);console.log(i);var o=n(a);r[o]=i}));else{var l=t.translate(a,c);console.log(l);var u=n(a);r[u]=l}},o=0,s=Object.entries(e.data);o<s.length;o++)a();return r},translate:function(e,t){return console.log(e,t),"QUOTED-PRINTABLE"==t.encoding?l.a.decode(d.a.decode(t._data)):"BASE64"==t.encoding?(console.log("todo ? decode base64 img or let the base 64 ?"),t._data):t._data},checkAll:function(){if(this.isCheckAll=!this.isCheckAll,this.languages=[],this.isCheckAll)for(var e in this.langsdata)this.languages.push(this.langsdata[e])},updateCheckall:function(){this.languages.length==this.langsdata.length?this.isCheckAll=!0:this.isCheckAll=!1},printValues:function(){for(var e in this.selectedlang="",this.languages)this.selectedlang+=this.languages[e]+", "}},computed:{selecteds:function(){var e=document.querySelectorAll(".contact_ckecked");return console.log(e),e}}},p=f,v=r("2877"),g=Object(v["a"])(p,n,a,!1,null,null,null);t["default"]=g.exports},"8db9":function(e,t){const r="\r\n",n=" ",a=998,i=78,o=2;function s(e,t,s){if(null!=t&&t<o)throw new Error("Maximum length must not be less than "+o);if(null!=t&&t>a)throw new Error("Maximum length must not exceed "+a);if(t=t||i,e=e.replace(/[\r\n]+/g,""),e.length<=t)return e;var c="",l=0,u=0,d=e.length,h=0,f=0;while(l<d){if(!s&&~(u=e.lastIndexOf(n,l+t))?u>l?(c+=e.slice(l,u)+r+n,l=u):(c+=e.slice(l,l+t-f)+r+n,l=l+t-f,s=!0):(c+=e.slice(l,l+t-f)+r+n,l=l+t-f),d-l<t){c+=e.slice(l);break}0===h&&(f=1),h++}return c}s.unfold=function(e){return e.replace(/\r\n\s/gm,"")},e.exports=s},"95e3":function(e,t){function r(e,t,n){if(!(this instanceof r))return new r(t);null!=n&&Object.assign(this,n),this._field=e,this._data=t,Object.defineProperty(this,"_field",{enumerable:!1}),Object.defineProperty(this,"_data",{enumerable:!1})}function n(e){return e.replace(/([A-Z])/g,"-$1").toUpperCase()}r.fromJSON=function(e){var t=e[0],n=e[1];/text/i.test(e[2])||(n.value=e[2]);var a=Array.isArray(e[3])?e[3].join(";"):e[3];return new r(t,a,n)},r.prototype={constructor:r,is:function(e){return e=(e+"").toLowerCase(),Array.isArray(this.type)?this.type.indexOf(e)>=0:this.type===e},isEmpty:function(){return null==this._data&&0===Object.keys(this).length},clone:function(){return new r(this._field,this._data,this)},toString:function(e){for(var t=(this.group?this.group+".":"")+n(this._field),r=Object.keys(this),a=[],i=0;i<r.length;i++)if("group"!==r[i])switch(t){case"TEL":case"ADR":case"EMAIL":"2.1"===e?Array.isArray(this[r[i]])?a.push(this[r[i]].join(";")):a.push(this[r[i]]):a.push(n(r[i])+"="+this[r[i]]);break;default:a.push(n(r[i])+"="+this[r[i]])}return"2.1"===e||"3.0"===e?t+(a.length?";"+a.join(";").toUpperCase():a.toString().toUpperCase())+":"+(Array.isArray(this._data)?this._data.join(";"):this._data):t+(a.length?";"+a.join(";"):a)+":"+(Array.isArray(this._data)?this._data.join(";"):this._data)},valueOf:function(){return this._data},toJSON:function(){var e=Object.assign({},this);"text"===e.value&&(e.value=void 0,delete e.value);var t=[this._field,e,this.value||"text"];switch(this._field){default:t.push(this._data);break;case"adr":case"n":t.push(this._data.split(";"))}return t}},e.exports=r},"98e8":function(e,t,r){(function(e,n){var a;/*! https://mths.be/quoted-printable v1.0.1 by @mathias | MIT license */(function(i){var o=t,s=(e&&e.exports,"object"==typeof n&&n);s.global!==s&&s.window;var c=String.fromCharCode,l=function(e){return e.replace(/[\t\x20]$/gm,"").replace(/=(?:\r\n?|\n|$)/g,"").replace(/=([a-fA-F0-9]{2})/g,(function(e,t){var r=parseInt(t,16);return c(r)}))},u=function(e){return e.replace(/\x20$/,"=20").replace(/\t$/,"=09")},d=/[\0-\x08\n-\x1F=\x7F-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=function(e){var t=e.replace(d,(function(e){if(e>"ÿ")throw RangeError("`quotedPrintable.encode()` expects extended ASCII input only. Don’t forget to encode the input first using a character encoding like UTF-8.");var t=e.charCodeAt(0),r=t.toString(16).toUpperCase();return"="+("0"+r).slice(-2)})),r=t.split(/\r\n?|\n/g),n=-1,a=r.length,i=[];while(++n<a){var o=r[n],s=75,c=0,l=o.length;while(c<l){var h=t.slice(c,c+s);/=$/.test(h)?(h=h.slice(0,s-1),c+=s-1):/=[A-F0-9]$/.test(h)?(h=h.slice(0,s-2),c+=s-2):c+=s,i.push(h)}}var f=h.length;return/[\t\x20]$/.test(h)&&(i.pop(),f+2<=s+1?i.push(u(h)):i.push(h.slice(0,f-1),u(h.slice(f-1,f)))),i.join("=\r\n")},f={encode:h,decode:l,version:"1.0.1"};a=function(){return f}.call(t,r,t,e),void 0===a||(e.exports=a)})()}).call(this,r("62e4")(e),r("c8ba"))},b636:function(e,t,r){var n=r("746f");n("asyncIterator")},c141:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("d3b7"),r("3ca3"),r("ddb0");var n=r("5530"),a=(r("96cf"),r("1da1")),i=r("d4ec"),o=r("bee2");r("a4d3"),r("e01a"),r("b636"),r("d28b");function s(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator],null!=t))return t.call(e);if(Symbol.iterator&&(t=e[Symbol.iterator],null!=t))return t.call(e)}throw new TypeError("Object is not async iterable")}var c=function(){function e(){Object(i["a"])(this,e),this.jsonld={"@context":{owl:"http://www.w3.org/2002/07/owl#",as:"https://www.w3.org/ns/activitystreams",schema:"http://schema.org/"},"@id":null,"@type":"owl:Thing","schema:name":"__NEW__THING__"}}return Object(o["a"])(e,[{key:"save",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("save",this,e),this.demo()}},{key:"demo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,a,i,o,c,l,u,d,h,f,p,v,g,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={store:"Articles",indexes:["date"]},r=this.$openDB(t),console.log("DB",r),a={store:"SwingPlop",indexes:["date"]},i=this.$openDB(a),console.log("DB2",i),e.next=8,r.add("articles",{"@id":"boo1Bip",title:"Article 1",date:new Date("2019-01-01"),body:"Article one"});case 8:return o=r.transaction("articles","readwrite"),e.next=11,Promise.all([o.store.add({"@id":"boo2",title:"Article 2",date:new Date("2019-01-01"),body:"deuxieme "}),o.store.add({"@id":"boo3",title:"Article 3",date:new Date("2019-01-02"),body:"et trois"}),o.done]);case 11:return e.t0=console,e.next=14,r.getAllFromIndex("articles","date");case 14:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),c=r.transaction("articles","readwrite"),l=c.store.index("date"),u=!0,d=!1,e.prev=20,f=s(l.iterate(new Date("2019-01-01")));case 22:return e.next=24,f.next();case 24:return p=e.sent,u=p.done,e.next=28,p.value;case 28:if(v=e.sent,u){e.next=37;break}g=v,b=Object(n["a"])({},g.value),b.body+=" And, happy new year!",g.update(b);case 34:u=!0,e.next=22;break;case 37:e.next=43;break;case 39:e.prev=39,e.t2=e["catch"](20),d=!0,h=e.t2;case 43:if(e.prev=43,e.prev=44,u||null==f.return){e.next=48;break}return e.next=48,f.return();case 48:if(e.prev=48,!d){e.next=51;break}throw h;case 51:return e.finish(48);case 52:return e.finish(43);case 53:return e.next=55,c.done;case 55:case"end":return e.stop()}}),e,this,[[20,39,43,53],[44,,48,52]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}()},d72f:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("d4ec"),a=r("257e"),i=r("262e"),o=r("2caf"),s=r("c141"),c={"@id":null,"vcard:hasName":"","@type":"vcard:VCard","vcard:given-name":"","vcard:family-name":"","vcard:hasPhoto":"https://image.flaticon.com/icons/svg/149/149992.svg"},l=function(e){Object(i["a"])(r,e);var t=Object(o["a"])(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return Object(n["a"])(this,r),e=t.call(this),Object.assign(Object(a["a"])(e),i),e}return r}(s["a"])},f1dd:function(e,t,r){(function(e,n){var a;/*! https://mths.be/utf8js v2.1.2 by @mathias */(function(i){var o=t,s=(e&&e.exports,"object"==typeof n&&n);s.global!==s&&s.window;var c,l,u,d=String.fromCharCode;function h(e){var t,r,n=[],a=0,i=e.length;while(a<i)t=e.charCodeAt(a++),t>=55296&&t<=56319&&a<i?(r=e.charCodeAt(a++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--)):n.push(t);return n}function f(e){var t,r=e.length,n=-1,a="";while(++n<r)t=e[n],t>65535&&(t-=65536,a+=d(t>>>10&1023|55296),t=56320|1023&t),a+=d(t);return a}function p(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function v(e,t){return d(e>>t&63|128)}function g(e){if(0==(4294967168&e))return d(e);var t="";return 0==(4294965248&e)?t=d(e>>6&31|192):0==(4294901760&e)?(p(e),t=d(e>>12&15|224),t+=v(e,6)):0==(4292870144&e)&&(t=d(e>>18&7|240),t+=v(e,12),t+=v(e,6)),t+=d(63&e|128),t}function b(e){var t,r=h(e),n=r.length,a=-1,i="";while(++a<n)t=r[a],i+=g(t);return i}function y(){if(u>=l)throw Error("Invalid byte index");var e=255&c[u];if(u++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function w(){var e,t,r,n,a;if(u>l)throw Error("Invalid byte index");if(u==l)return!1;if(e=255&c[u],u++,0==(128&e))return e;if(192==(224&e)){if(t=y(),a=(31&e)<<6|t,a>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=y(),r=y(),a=(15&e)<<12|t<<6|r,a>=2048)return p(a),a;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=y(),r=y(),n=y(),a=(7&e)<<18|t<<12|r<<6|n,a>=65536&&a<=1114111))return a;throw Error("Invalid UTF-8 detected")}function m(e){c=h(e),l=c.length,u=0;var t,r=[];while(!1!==(t=w()))r.push(t);return f(r)}var A={version:"2.1.2",encode:b,decode:m};a=function(){return A}.call(t,r,t,e),void 0===a||(e.exports=a)})()}).call(this,r("62e4")(e),r("c8ba"))},fb81:function(e,t,r){var n=r("0cec"),a=r("95e3");function i(e,t,r){Array.isArray(e[t])?e[t].push(r):null!=e[t]?e[t]=[e[t],r]:e[t]=r}function o(e,t){var r=t.split("="),a=n(r[0]),o=r[1];return null!=o&&""!==o||(o=r[0],a="type"),"type"===a?('"'===o[0]&&'"'===o[o.length-1]&&-1!==o.indexOf(",")&&(o=o.slice(1,-1)),o.toLowerCase().split(",").forEach((function(t){i(e,a,t)})),e):(i(e,a,o),e)}function s(e){for(var t={},r=null,s=/^([^;:]+)((?:;(?:[^;:]+))*)(?:\:([\s\S]+))?$/i,c=e.length-1,l=1;l<c;l++){r=e[l];var u=s.exec(r);if(u){var d=u[1].split("."),h=d.pop(),f=d.pop(),p=u[3],v=u[2]?u[2].replace(/^;|;$/g,"").split(";"):[],g=v.reduce(o,f?{group:f}:{}),b=n(h),y=new a(b,p,g);i(t,b,y)}}return t}e.exports=s}}]);
//# sourceMappingURL=import.cbeb18dd.js.map