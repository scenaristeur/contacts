(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["solidresttest"],{9819:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("h3",[e._v("Solid Rest Test")]),e._v(" result : "+e._s(e.result)+" "),n("b-button",{on:{click:e.create}},[e._v("Create")]),n("b-button",{on:{click:e.read}},[e._v("Read")]),n("hr"),n("div",{staticClass:"todos"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{placeholder:"New Todo"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),n("button",{on:{click:function(t){e.post({message:e.message},{},"todos"),e.message=""}}},[e._v("Save Todo")]),e._l(e.todos,(function(t){return n("div",{key:t.id},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"todo.message"}],domProps:{value:t.message},on:{change:function(n){return e.$pouch.put(t,{},"todos")},input:function(n){n.target.composing||e.$set(t,"message",n.target.value)}}}),e._v(" vcard:name "),n("input",{directives:[{name:"model",rawName:"v-model",value:t["vcard:hasName"],expression:"todo['vcard:hasName']"}],domProps:{value:t["vcard:hasName"]},on:{change:function(n){return e.$pouch.put(t,{},"todos")},input:function(n){n.target.composing||e.$set(t,"vcard:hasName",n.target.value)}}}),n("button",{on:{click:function(n){return e.$pouch.remove(t,{},"todos")}}},[e._v("Remove")])])}))],2),n("Items")],1)},a=[],o=(n("d3b7"),n("96cf"),n("1da1")),s=n("11c1"),c=n("00e8"),i=n.n(c),u=n("7fed"),l=n.n(u),d=n("2f62"),p=n("d72f"),h=new SolidRest([new SolidBrowserFS]);console.log(h);var m="app://bfs/IndexedDB",f=m+"/test-file.ttl",v="<> a <#test>.";function g(e,t){return w.apply(this,arguments)}function w(){return w=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("init"),e.next=3,h.fetch(t,{method:"PUT",body:n});case 3:return r=e.sent,e.next=6,h.fetch(t);case 6:if(r=e.sent,e.t0=200==r.status,!e.t0){e.next=14;break}return e.next=11,r.text();case 11:e.t1=e.sent,e.t2=n,e.t0=e.t1==e.t2;case 14:if(!e.t0){e.next=18;break}b("OK!"),e.next=19;break;case 18:b("FAIL!");case 19:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function b(e){console.log("<p>".concat(e,"</p>"))}g(f,v);var x=new l.a(i.a),y={name:"SolidRestTest",components:{Items:function(){return Promise.all([n.e("chunk-2c53a7bc"),n.e("chunk-80fc5770"),n.e("chunk-2c8fe036")]).then(n.bind(null,"5b8f"))}},data:function(){return{base:"app://bfs/IndexedDB",file:this.base+"/test-file.ttl",text:"<> a <#test>.",result:"must change",contacts_path:"",message:""}},pouch:{todos:{}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("databases",e.$databases),t.next=3,e.$pouch.allDocs({},"todos");case 3:return n=t.sent,console.log("todos",n),t.next=7,e.PUT(f,e.text);case 7:return t.next=9,e.GET(f);case 9:return r=t.sent,t.next=12,r.text();case 12:a=t.sent,console.log(a),e.result=a,e.contacts_path=e.storage+"contacts/",e.$pouch.syncToAnything=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("docs",n),r={},r["@id"]=Object(s["v4"])()+".json",r["schema:dateCreated"]=(new Date).toISOString(),r.message=n.message,console.log(r),console.log(r,e.contacts_path+r["@id"]),t.next=9,x.createFile(e.contacts_path+r["@id"],JSON.stringify(r),"application/json");case 9:return a=t.sent,console.log(a),t.abrupt("return",a);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),console.log(e.$pouch);case 18:case"end":return t.stop()}}),t)})))()},methods:{post:function(e,t,n){var r=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o,c,i,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o=new p["a"],c=r.storage+"contacts/",null==o["@id"]&&(o["@id"]=c+Object(s["v4"])()+".jsonld"),o["vcard:hasName"]=e.message,console.log("vcard",o),i=Object.assign({},o),i._id=i["@id"],console.log("pouch_card",i),o.save({option_test:"bla",base:"contacts"}),r.$pouch.put(i,t,n),u=r.$pouch.syncToAnything(e),console.log("RESULT",u);case 12:case"end":return a.stop()}}),a)})))()},create:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},n["@id"]=Object(s["v4"])()+".jsonld",n["schema:dateCreated"]=(new Date).toISOString(),console.log(n,e.contacts_path+n["@id"]),t.next=6,e.PUT(e.contacts_path+n["@id"],JSON.stringify(n),"application/json");case 6:r=t.sent,console.log(r);case 8:case"end":return t.stop()}}),t)})))()},read:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.GET(e.contacts_path);case 2:n=t.sent,console.log(n);case 4:case"end":return t.stop()}}),t)})))()},test1:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n='<> a <#test>. \n\n      <> dct:dateCreated "'.concat(new Date,'" .'),t.next=3,e.PUT(f,n);case 3:return t.next=5,e.GET(f);case 5:return r=t.sent,t.next=8,r.text();case 8:a=t.sent,console.log(a),e.result=a;case 11:case"end":return t.stop()}}),t)})))()},GET:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.fetch(e,{method:"GET",headers:{Accept:"application/json"}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},HEAD:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.fetch(e,{method:"HEAD"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},PUT:function(e,t){var n=arguments;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=n.length>2&&void 0!==n[2]?n[2]:"text/turtle",console.log("text",t),r.next=4,h.fetch(e,{method:"PUT",body:t,headers:{"content-type":a}});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()},DELETE:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.fetch(e,{method:"DELETE"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},POST:function(e,t,n,r){return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,h.fetch(e,{method:"POST",headers:{slug:t,link:r,"content-type":"text/turtle"},body:n});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},postFile:function(e,t,n){var r=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o='<http://www.w3.org/ns/ldp#Resource>; rel="type"',a.abrupt("return",r.POST(e,t,n,o));case 2:case"end":return a.stop()}}),a)})))()},postFolder:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a='<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',r.abrupt("return",n.POST(e,t,"",a));case 2:case"end":return r.stop()}}),r)})))()}},computed:Object(d["b"])({contacts:function(e){return e.contacts.contacts},storage:function(e){return e.solid.storage}})},O=y,R=n("2877"),j=Object(R["a"])(O,r,a,!1,null,null,null);t["default"]=j.exports},b636:function(e,t,n){var r=n("746f");r("asyncIterator")},c141:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7"),n("3ca3"),n("ddb0");var r=n("5530"),a=(n("96cf"),n("1da1")),o=n("d4ec"),s=n("bee2");n("a4d3"),n("e01a"),n("b636"),n("d28b");function c(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator],null!=t))return t.call(e);if(Symbol.iterator&&(t=e[Symbol.iterator],null!=t))return t.call(e)}throw new TypeError("Object is not async iterable")}var i=function(){function e(){Object(o["a"])(this,e),this["@context"]={owl:"http://www.w3.org/2002/07/owl#",as:"https://www.w3.org/ns/activitystreams",schema:"http://schema.org/"},this["@id"]=null,this["@type"]="owl:Thing"}return Object(s["a"])(e,[{key:"save",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("save",this,e),this.demo()}},{key:"demo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a,o,s,i,u,l,d,p,h,m,f,v,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={store:"Articles",indexes:["date"]},n=this.$openDB(t),console.log("DB",n),a={store:"SwingPlop",indexes:["date"]},o=this.$openDB(a),console.log("DB2",o),e.next=8,n.add("articles",{"@id":"boo1Bip",title:"Article 1",date:new Date("2019-01-01"),body:"Article one"});case 8:return s=n.transaction("articles","readwrite"),e.next=11,Promise.all([s.store.add({"@id":"boo2",title:"Article 2",date:new Date("2019-01-01"),body:"deuxieme "}),s.store.add({"@id":"boo3",title:"Article 3",date:new Date("2019-01-02"),body:"et trois"}),s.done]);case 11:return e.t0=console,e.next=14,n.getAllFromIndex("articles","date");case 14:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),i=n.transaction("articles","readwrite"),u=i.store.index("date"),l=!0,d=!1,e.prev=20,h=c(u.iterate(new Date("2019-01-01")));case 22:return e.next=24,h.next();case 24:return m=e.sent,l=m.done,e.next=28,m.value;case 28:if(f=e.sent,l){e.next=37;break}v=f,g=Object(r["a"])({},v.value),g.body+=" And, happy new year!",v.update(g);case 34:l=!0,e.next=22;break;case 37:e.next=43;break;case 39:e.prev=39,e.t2=e["catch"](20),d=!0,p=e.t2;case 43:if(e.prev=43,e.prev=44,l||null==h.return){e.next=48;break}return e.next=48,h.return();case 48:if(e.prev=48,!d){e.next=51;break}throw p;case 51:return e.finish(48);case 52:return e.finish(43);case 53:return e.next=55,i.done;case 55:case"end":return e.stop()}}),e,this,[[20,39,43,53],[44,,48,52]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}()},d72f:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("d4ec"),a=n("257e"),o=n("262e"),s=n("2caf"),c=n("c141"),i={"@id":null,"vcard:hasName":"","@type":"vcard:VCard","vcard:given-name":"","vcard:family-name":""},u=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return Object(r["a"])(this,n),e=t.call(this),Object.assign(Object(a["a"])(e),o),e}return n}(c["a"])}}]);
//# sourceMappingURL=solidresttest.2ee6daae.js.map