(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["contacts"],{"94ef":function(t,e,n){"use strict";n("d998")},b636:function(t,e,n){var r=n("746f");r("asyncIterator")},c141:function(t,e,n){"use strict";n.d(e,"a",(function(){return W}));n("d3b7"),n("3ca3"),n("ddb0");var r=n("5530"),a=(n("96cf"),n("1da1")),o=n("d4ec"),c=n("bee2");n("a4d3"),n("e01a"),n("b636"),n("d28b");function s(t){var e;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&(e=t[Symbol.asyncIterator],null!=e))return e.call(t);if(Symbol.iterator&&(e=t[Symbol.iterator],null!=e))return e.call(t)}throw new TypeError("Object is not async iterable")}const i=(t,e)=>e.some(e=>t instanceof e);let u,d;function l(){return u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f(){return d||(d=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p=new WeakMap,h=new WeakMap,v=new WeakMap,b=new WeakMap,m=new WeakMap;function w(t){const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{e(k(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(e=>{e instanceof IDBCursor&&p.set(e,t)}).catch(()=>{}),m.set(e,t),e}function y(t){if(h.has(t))return;const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});h.set(t,e)}let g={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return h.get(t);if("objectStoreNames"===e)return t.objectStoreNames||v.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return k(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function I(t){g=t(g)}function x(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?f().includes(t)?function(...e){return t.apply(B(this),e),k(p.get(this))}:function(...e){return k(t.apply(B(this),e))}:function(e,...n){const r=t.call(B(this),e,...n);return v.set(r,e.sort?e.sort():[e]),k(r)}}function D(t){return"function"===typeof t?x(t):(t instanceof IDBTransaction&&y(t),i(t,l())?new Proxy(t,g):t)}function k(t){if(t instanceof IDBRequest)return w(t);if(b.has(t))return b.get(t);const e=D(t);return e!==t&&(b.set(t,e),m.set(e,t)),e}const B=t=>m.get(t);function j(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),s=k(c);return r&&c.addEventListener("upgradeneeded",t=>{r(k(c.result),t.oldVersion,t.newVersion,k(c.transaction))}),n&&c.addEventListener("blocked",()=>n()),s.then(t=>{o&&t.addEventListener("close",()=>o()),a&&t.addEventListener("versionchange",()=>a())}).catch(()=>{}),s}const C=["get","getKey","getAll","getAllKeys","count"],E=["put","add","delete","clear"],O=new Map;function S(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(O.get(e))return O.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=E.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!C.includes(n))return;const o=async function(t,...e){const o=this.transaction(t,a?"readwrite":"readonly");let c=o.store;return r&&(c=c.index(e.shift())),(await Promise.all([c[n](...e),a&&o.done]))[0]};return O.set(e,o),o}I(t=>({...t,get:(e,n,r)=>S(e,n)||t.get(e,n,r),has:(e,n)=>!!S(e,n)||t.has(e,n)}));const L=["continue","continuePrimaryKey","advance"],A={},_=new WeakMap,N=new WeakMap,P={get(t,e){if(!L.includes(e))return t[e];let n=A[e];return n||(n=A[e]=function(...t){_.set(this,N.get(this)[e](...t))}),n}};async function*M(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,P);N.set(n,e),m.set(n,B(e));while(e)yield n,e=await(_.get(n)||e.continue()),_.delete(n)}function T(t,e){return e===Symbol.asyncIterator&&i(t,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===e&&i(t,[IDBIndex,IDBObjectStore])}I(t=>({...t,get(e,n,r){return T(e,n)?M:t.get(e,n,r)},has(e,n){return T(e,n)||t.has(e,n)}}));var W=function(){function t(){Object(o["a"])(this,t),this.jsonld={"@context":{owl:"http://www.w3.org/2002/07/owl#",as:"https://www.w3.org/ns/activitystreams",schema:"http://schema.org/"},"@id":null,"@type":"owl:Thing","schema:name":"__NEW__THING__"}}return Object(c["a"])(t,[{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("save",this,t),this.demo()}},{key:"demo",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,a,o,c,i,u,d,l,f,p,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j("Articles",1,{upgrade:function(t){var e=t.createObjectStore("articles",{keyPath:"@id"});e.createIndex("date","date")}});case 2:return e=t.sent,t.next=5,e.add("articles",{"@id":"boo1",title:"Article 1",date:new Date("2019-01-01"),body:"Article one"});case 5:return n=e.transaction("articles","readwrite"),t.next=8,Promise.all([n.store.add({"@id":"boo2",title:"Article 2",date:new Date("2019-01-01"),body:"deuxieme "}),n.store.add({"@id":"boo3",title:"Article 3",date:new Date("2019-01-02"),body:"et trois"}),n.done]);case 8:return t.t0=console,t.next=11,e.getAllFromIndex("articles","date");case 11:t.t1=t.sent,t.t0.log.call(t.t0,t.t1),a=e.transaction("articles","readwrite"),o=a.store.index("date"),c=!0,i=!1,t.prev=17,d=s(o.iterate(new Date("2019-01-01")));case 19:return t.next=21,d.next();case 21:return l=t.sent,c=l.done,t.next=25,l.value;case 25:if(f=t.sent,c){t.next=34;break}p=f,h=Object(r["a"])({},p.value),h.body+=" And, happy new year!",p.update(h);case 31:c=!0,t.next=19;break;case 34:t.next=40;break;case 36:t.prev=36,t.t2=t["catch"](17),i=!0,u=t.t2;case 40:if(t.prev=40,t.prev=41,c||null==d.return){t.next=45;break}return t.next=45,d.return();case 45:if(t.prev=45,!i){t.next=48;break}throw u;case 48:return t.finish(45);case 49:return t.finish(40);case 50:return t.next=52,a.done;case 52:case"end":return t.stop()}}),t,null,[[17,36,40,50],[41,,45,49]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}()},c93c:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("div",{staticClass:"mb3 add-item"},[n("b-form-input",{staticClass:"mb3",attrs:{placeholder:"Search",variant:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("b-list-group",t._l(t.contacts,(function(e){return n("span",{key:e["@id"]},[void 0!=e["vcard:hasName"]&&e["vcard:hasName"].toLowerCase().includes(t.search.toLowerCase())?n("b-list-group-item",{staticClass:"text-dark",attrs:{variant:"secondary",button:""},on:{click:function(n){return t.open(e)}}},[n("b-avatar",{staticClass:"mr-3",attrs:{variant:"info",src:e["vcard:hasPhoto"]}}),t._v(" "+t._s(e["vcard:hasName"])+" ")],1):t._e()],1)})),0),n("b-iconstack",{staticClass:"floating-action-button",attrs:{"font-scale":"4",type:"button"},on:{click:t.editContact}},[n("b-icon",{attrs:{stacked:"",icon:"circle-fill",variant:"primary"}}),n("b-icon",{attrs:{stacked:"",icon:"plus",scale:"0.5",variant:"white"}}),n("b-icon",{attrs:{stacked:"",icon:"circle",variant:"secondary"}})],1)],1)},a=[],o=n("d72f"),c=n("2f62"),s={name:"Contacts",components:{},data:function(){return{vcard:{},search:""}},created:function(){this.$store.dispatch("contacts/findAll")},methods:{editContact:function(){this.vcard=new o["a"],this.$router.push({name:"EditContact",params:{vcard:this.vcard}})},open:function(t){this.$router.push({name:"Contact",params:{contact:t}})}},watch:{storage:function(){this.$store.dispatch("contacts/findAll")},contacts:function(){}},computed:Object(c["b"])({contacts:function(t){return t.contacts.contacts},storage:function(t){return t.solid.storage}})},i=s,u=(n("94ef"),n("2877")),d=Object(u["a"])(i,r,a,!1,null,null,null);e["default"]=d.exports},d72f:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("d4ec"),a=n("257e"),o=n("262e"),c=n("2caf"),s=n("c141"),i={"@id":null,"vcard:hasName":"","@type":"vcard:VCard","vcard:given-name":"","vcard:family-name":"","vcard:hasPhoto":"https://image.flaticon.com/icons/svg/149/149992.svg"},u=function(t){Object(o["a"])(n,t);var e=Object(c["a"])(n);function n(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return Object(r["a"])(this,n),t=e.call(this),Object.assign(Object(a["a"])(t),o),t}return n}(s["a"])},d998:function(t,e,n){}}]);
//# sourceMappingURL=contacts.538c1647.js.map