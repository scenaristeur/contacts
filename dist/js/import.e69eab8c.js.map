{"version":3,"sources":["webpack:///./node_modules/vcf/node_modules/camelcase/index.js","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/vcf/lib/vcard.js","webpack:///./src/views/Import.vue?648d","webpack:///src/views/Import.vue","webpack:///./src/views/Import.vue?bb51","webpack:///./src/views/Import.vue","webpack:///./node_modules/foldline/foldline.js","webpack:///./node_modules/vcf/lib/property.js","webpack:///./node_modules/quoted-printable/quoted-printable.js","webpack:///./node_modules/core-js/modules/es.symbol.async-iterator.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncIterator.js","webpack:///./node_modules/idb/build/esm/wrap-idb-value.js","webpack:///./node_modules/idb/build/esm/index.js","webpack:///./node_modules/idb/build/esm/async-iterators.js","webpack:///./src/models/Thing.js","webpack:///./src/models/Vcard.js","webpack:///./node_modules/utf8/utf8.js","webpack:///./node_modules/vcf/lib/parse-lines.js"],"names":["preserveCamelCase","string","isLastCharLower","isLastCharUpper","isLastLastCharUpper","i","length","character","test","toUpperCase","slice","toLowerCase","camelCase","input","options","Array","isArray","TypeError","Object","assign","pascalCase","postProcess","x","charAt","map","trim","filter","join","hasUpperCase","replace","_","p1","m","module","exports","default","$","$entries","entries","target","stat","O","vCard","this","version","versions","data","mimeType","extension","EOL","foldLine","normalize","isSupported","indexOf","parse","value","objects","split","cards","push","parseLines","fromJSON","jcard","JSON","Error","card","forEach","prop","addProperty","Property","format","vcf","props","keys","k","isEmpty","toString","prototype","constructor","get","key","clone","set","params","setProperty","add","_field","lines","begin","end","SyntaxError","substring","charset","toJCard","toJSON","render","_vm","_h","$createElement","_c","_self","_v","attrs","model","callback","$$v","file","expression","_s","contacts","staticClass","on","importer","directives","name","rawName","domProps","isCheckAll","_i","$event","checkAll","$$a","$$el","$$c","checked","$$i","concat","_l","contact","$set","staticRenderFns","console","log","langsdata","languages","selectedlang","watch","reader","FileReader","readAsText","onload","evt","app","c","onerror","methods","convert","startsWith","val","pred","translate","v","_data","updateCheckall","printValues","computed","selecteds","component","CRLF","SP","MAX_LINE_LENGTH","DEFAULT_LINE_LENGTH","MIN_LINE_LENGTH","maxLength","hardWrap","output","index","nextIndex","line","lastIndexOf","unfold","field","defineProperty","enumerable","capitalDashCase","is","type","propName","group","valueOf","root","freeExports","freeGlobal","global","window","stringFromCharCode","String","fromCharCode","decode","$0","$1","codePoint","parseInt","handleTrailingCharacters","regexUnsafeSymbols","encode","encoded","symbol","RangeError","charCodeAt","hexadecimal","lineIndex","lineCount","result","LINE_LENGTH","buffer","lastLineLength","pop","quotedPrintable","defineWellKnownSymbol","_asyncIterator","iterable","method","Symbol","asyncIterator","call","iterator","instanceOfAny","object","constructors","some","idbProxyableTypes","cursorAdvanceMethods","getIdbProxyableTypes","IDBDatabase","IDBObjectStore","IDBIndex","IDBCursor","IDBTransaction","getCursorAdvanceMethods","advance","continue","continuePrimaryKey","cursorRequestMap","WeakMap","transactionDoneMap","transactionStoreNamesMap","transformCache","reverseTransformCache","promisifyRequest","request","promise","Promise","resolve","reject","unlisten","removeEventListener","success","error","wrap","addEventListener","then","catch","cacheDonePromiseForTransaction","tx","has","done","complete","DOMException","idbProxyTraps","receiver","objectStoreNames","undefined","objectStore","replaceTraps","wrapFunction","func","transaction","includes","args","apply","unwrap","storeNames","sort","transformCachableValue","Proxy","IDBRequest","newValue","openDB","blocked","upgrade","blocking","terminated","indexedDB","open","openPromise","event","oldVersion","newVersion","db","readMethods","writeMethods","cachedMethods","Map","getMethod","targetFuncName","useIndex","isWrite","async","storeName","store","shift","all","oldTraps","advanceMethodProps","methodMap","advanceResults","ittrProxiedCursorToOriginalProxy","cursorIteratorTraps","cachedFunc","iterate","cursor","openCursor","proxiedCursor","delete","isIteratorProp","Thing","jsonld","owl","as","schema","demo","createObjectStore","keyPath","createIndex","title","date","Date","body","getAllFromIndex","article","update","default_options","Vcard","byteArray","byteCount","byteIndex","ucs2decode","extra","counter","ucs2encode","array","checkScalarValue","createByte","encodeCodePoint","utf8encode","codePoints","byteString","readContinuationByte","continuationByte","decodeSymbol","byte1","byte2","byte3","byte4","utf8decode","tmp","utf8","createParams","param","parts","pattern","len","match","exec","property","propParams","reduce","propVal"],"mappings":"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","file":"js/import.e69eab8c.js","sourcesContent":["'use strict';\n\nconst preserveCamelCase = string => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\n\tfor (let i = 0; i < string.length; i++) {\n\t\tconst character = string[i];\n\n\t\tif (isLastCharLower && /[a-zA-Z]/.test(character) && character.toUpperCase() === character) {\n\t\t\tstring = string.slice(0, i) + '-' + string.slice(i);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\ti++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && /[a-zA-Z]/.test(character) && character.toLowerCase() === character) {\n\t\t\tstring = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = character.toLowerCase() === character && character.toUpperCase() !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = character.toUpperCase() === character && character.toLowerCase() !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst camelCase = (input, options) => {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = Object.assign({\n\t\tpascalCase: false\n\t}, options);\n\n\tconst postProcess = x => options.pascalCase ? x.charAt(0).toUpperCase() + x.slice(1) : x;\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tif (input.length === 1) {\n\t\treturn options.pascalCase ? input.toUpperCase() : input.toLowerCase();\n\t}\n\n\tconst hasUpperCase = input !== input.toLowerCase();\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input);\n\t}\n\n\tinput = input\n\t\t.replace(/^[_.\\- ]+/, '')\n\t\t.toLowerCase()\n\t\t.replace(/[_.\\- ]+(\\w|$)/g, (_, p1) => p1.toUpperCase())\n\t\t.replace(/\\d+(\\w|$)/g, m => m.toUpperCase());\n\n\treturn postProcess(input);\n};\n\nmodule.exports = camelCase;\n// TODO: Remove this for the next major release\nmodule.exports.default = camelCase;\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","/**\n * vCard\n * @constructor\n * @return {vCard}\n */\nfunction vCard() {\n\n  if( !(this instanceof vCard) )\n    return new vCard()\n\n  /** @type {String} Version number */\n  this.version = vCard.versions[ vCard.versions.length - 1 ]\n  /** @type {Object} Card data */\n  this.data = {}\n\n}\n\n/**\n * vCard MIME type\n * @type {String}\n */\nvCard.mimeType = 'text/vcard'\n\n/**\n * vCard file extension\n * @type {String}\n */\nvCard.extension = '.vcf'\n\n/**\n * vCard versions\n * @type {Array}\n */\nvCard.versions = [ '2.1', '3.0', '4.0' ]\n\n/**\n * VCF EOL character sequence\n * @type {String}\n */\nvCard.EOL = '\\r\\n'\n\n/**\n * Folds a long line according to the RFC 5322.\n * @see http://tools.ietf.org/html/rfc5322#section-2.1.1\n * @param  {String}  input\n * @param  {Number}  maxLength\n * @param  {Boolean} hardWrap\n * @return {String}\n */\nvCard.foldLine = require( 'foldline' )\n\n/**\n * Normalizes input (cast to string, line folding, whitespace)\n * @param  {String} input\n * @return {String}\n */\nvCard.normalize = function( input ) {\n  return ( input + '' )\n    // Trim whitespace\n    .replace( /^[\\s\\r\\n]+|[\\s\\r\\n]+$/g, '' )\n    // Trim blank lines\n    .replace( /(\\r\\n)[\\x09\\x20]?(\\r\\n)|$/g, '$1' )\n    // Unfold folded lines\n    .replace( /\\r\\n[\\x20\\x09]/g, \"\" )\n}\n\n/**\n * Check whether a given version is supported\n * @param  {String} version\n * @return {Boolean}\n */\nvCard.isSupported = function( version ) {\n  return /^\\d\\.\\d$/.test( version ) &&\n    vCard.versions.indexOf( version ) !== -1\n}\n\n/**\n * Parses a string or buffer into a vCard object\n * @param  {String|Buffer} value\n * @return {Array<vCard>}\n */\nvCard.parse = function( value ) {\n\n  var objects = ( value + '' ).split( /(?=BEGIN\\:VCARD)/gi )\n  var cards = []\n\n  for( var i = 0; i < objects.length; i++ ) {\n    cards.push( new vCard().parse( objects[i] ) )\n  }\n\n  return cards\n\n}\n\n/**\n * Parse an array of vcf formatted lines\n * @internal used by `vCard#parse()`\n * @type {Function}\n */\nvCard.parseLines = require( './parse-lines' )\n\n/**\n * Constructs a vCard from jCard data\n * @param  {Array} jcard\n * @return {vCard}\n */\nvCard.fromJSON = function( jcard ) {\n\n  jcard = typeof jcard === 'string' ?\n    JSON.parse( jcard ) : jcard\n\n  if( jcard == null || !Array.isArray( jcard ) )\n    return new vCard()\n\n  if( !/vcard/i.test( jcard[0] ) )\n    throw new Error( 'Object not in jCard format' )\n\n  var card = new vCard()\n\n  jcard[1].forEach( function( prop ) {\n    card.addProperty( vCard.Property.fromJSON( prop ) )\n  })\n\n  return card\n\n}\n\n/**\n * Format a card object according to the given version\n * @param  {vCard}  card\n * @param  {String} version\n * @return {String}\n */\nvCard.format = function( card, version ) {\n\n  version = version || card.version ||\n    vCard.versions[ vCard.versions.length - 1 ]\n\n  if( !vCard.isSupported( version ) )\n    throw new Error( 'Unsupported vCard version \"' + version + '\"' )\n\n  var vcf = []\n\n  vcf.push( 'BEGIN:VCARD' )\n  vcf.push( 'VERSION:' + version )\n\n  var props = Object.keys( card.data )\n  var prop = ''\n\n  for( var i = 0; i < props.length; i++ ) {\n    if( props[i] === 'version' ) continue;\n    prop = card.data[ props[i] ]\n    if( Array.isArray( prop ) ) {\n      for( var k = 0; k < prop.length; k++ ) {\n        if( prop[k].isEmpty() ) continue\n        vcf.push( vCard.foldLine( prop[k].toString( version ), 75 ) )\n      }\n    } else if( !prop.isEmpty() ) {\n      vcf.push( vCard.foldLine( prop.toString( version ), 75 ) )\n    }\n  }\n\n  vcf.push( 'END:VCARD' )\n\n  return vcf.join( vCard.EOL )\n\n}\n\n// vCard Property constructor\nvCard.Property = require( './property' )\n\n/**\n * vCard prototype\n * @type {Object}\n */\nvCard.prototype = {\n\n  constructor: vCard,\n\n  /**\n   * Get a vCard property\n   * @param  {String} key\n   * @return {Object|Array}\n   */\n  get: function( key ) {\n\n    if( this.data[ key ] == null ) {\n      return this.data[ key ]\n    }\n\n    if( Array.isArray( this.data[ key ] ) ) {\n      return this.data[ key ].map( function( prop ) {\n        return prop.clone()\n      })\n    } else {\n      return this.data[ key ].clone()\n    }\n\n  },\n\n  /**\n   * Set a vCard property\n   * @param {String} key\n   * @param {String} value\n   * @param {Object} params\n   */\n  set: function( key, value, params ) {\n    return this.setProperty( new vCard.Property( key, value, params ) )\n  },\n\n  /**\n   * Add a vCard property\n   * @param {String} key\n   * @param {String} value\n   * @param {Object} params\n   */\n  add: function( key, value, params ) {\n    var prop = new vCard.Property( key, value, params )\n    this.addProperty( prop )\n    return this\n  },\n\n  /**\n   * Set a vCard property from an already\n   * constructed vCard.Property\n   * @param {vCard.Property} prop\n   */\n  setProperty: function( prop ) {\n    this.data[ prop._field ] = prop\n    return this\n  },\n\n  /**\n   * Add a vCard property from an already\n   * constructed vCard.Property\n   * @param {vCard.Property} prop\n   */\n  addProperty: function( prop ) {\n\n    var key = prop._field\n\n    if( Array.isArray( this.data[ key ] ) ) {\n      this.data[ key ].push( prop )\n    } else if( this.data[ key ] != null ) {\n      this.data[ key ] = [ this.data[ key ], prop ]\n    } else {\n      this.data[ key ] = prop\n    }\n\n    return this\n\n  },\n\n  /**\n   * Parse a vcf formatted vCard\n   * @param  {String} value\n   * @return {vCard}\n   */\n  parse: function( value ) {\n\n    // Normalize & split\n    var lines = vCard.normalize( value )\n      .split( /\\r\\n/g )\n\n    // Keep begin and end markers\n    // for eventual error messages\n    var begin = lines[0]\n    var version = lines[1]\n    var end = lines[ lines.length - 1 ]\n\n    if( !/BEGIN:VCARD/i.test( begin ) )\n      throw new SyntaxError( 'Invalid vCard: Expected \"BEGIN:VCARD\" but found \"'+ begin +'\"' )\n\n    if( !/END:VCARD/i.test( end ) )\n      throw new SyntaxError( 'Invalid vCard: Expected \"END:VCARD\" but found \"'+ end +'\"' )\n\n    // TODO: For version 2.1, the VERSION can be anywhere between BEGIN & END\n    if( !/VERSION:\\d\\.\\d/i.test( version ) )\n      throw new SyntaxError( 'Invalid vCard: Expected \"VERSION:\\\\d.\\\\d\" but found \"'+ version +'\"' )\n\n    this.version = version.substring( 8, 11 )\n\n    if( !vCard.isSupported( this.version ) )\n      throw new Error( 'Unsupported version \"' + this.version + '\"' )\n\n    this.data = vCard.parseLines( lines )\n\n    return this\n\n  },\n\n  /**\n   * Format the vCard as vcf with given version\n   * @param  {String} version\n   * @param  {String} charset\n   * @return {String}\n   */\n  toString: function( version, charset ) {\n    version = version || this.version\n    return vCard.format( this, version )\n  },\n\n  /**\n   * Format the card as jCard\n   * @param {String} version='4.0'\n   * @return {Array} jCard\n   */\n  toJCard: function( version ) {\n\n    version = version || '4.0'\n\n    var keys = Object.keys( this.data )\n    var data = [ [ 'version', {}, 'text', version ] ]\n    var prop = null\n\n    for( var i = 0; i < keys.length; i++ ) {\n      if( keys[i] === 'version' ) continue;\n      prop = this.data[ keys[i] ]\n      if( Array.isArray( prop ) ) {\n        for( var k = 0; k < prop.length; k++ ) {\n          data.push( prop[k].toJSON() )\n        }\n      } else {\n        data.push( prop.toJSON() )\n      }\n    }\n\n    return [ 'vcard', data ]\n\n  },\n\n  /**\n   * Format the card as jCard\n   * @return {Array} jCard\n   */\n  toJSON: function() {\n    return this.toJCard( this.version )\n  },\n\n}\n\n// Exports\nmodule.exports = vCard\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('h1',[_vm._v(\"Import\")]),_vm._v(\" Import a list of contacts. multi-contacts exemple contacts.vcf \"),_c('b-form-file',{attrs:{\"placeholder\":\"Choose a file or drop it here...\",\"drop-placeholder\":\"Drop file here...\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}}),_vm._v(\" \"+_vm._s(_vm.contacts.length)+\" imports \"),_c('b-button',{staticClass:\"m3\",on:{\"click\":_vm.importer}},[_vm._v(\"Import\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isCheckAll),expression:\"isCheckAll\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.isCheckAll)?_vm._i(_vm.isCheckAll,null)>-1:(_vm.isCheckAll)},on:{\"click\":function($event){return _vm.checkAll()},\"change\":function($event){var $$a=_vm.isCheckAll,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isCheckAll=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isCheckAll=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isCheckAll=$$c}}}}),_vm._v(\" Check All \"),_c('br'),_c('b-list-group',_vm._l((_vm.contacts),function(contact,i){return _c('b-list-group-item',{key:i},[_c('b-form-checkbox',{staticClass:\"contact_ckecked\",attrs:{\"id\":'checkbox-'+i,\"name\":'checkbox-'+i},model:{value:(contact.checked),callback:function ($$v) {_vm.$set(contact, \"checked\", $$v)},expression:\"contact.checked\"}},[_c('h6',[_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:('collapse-2'+i),expression:\"'collapse-2'+i\"}],staticClass:\"m-1\",attrs:{\"variant\":\"info\",\"size\":\"sm\"}},[_vm._v(\"+\")]),_vm._v(\" \"+_vm._s(contact.get('n') || contact.get('fn'))+\" \")],1)]),_c('b-collapse',{attrs:{\"id\":'collapse-2'+i}},[_c('b-card',[_vm._v(_vm._s(contact.checked)),_c('small',[_vm._v(_vm._s(contact.data))])])],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container>\r\n    <h1>Import</h1>\r\n\r\n    Import a list of contacts. multi-contacts exemple contacts.vcf\r\n\r\n    <b-form-file\r\n    v-model=\"file\"\r\n    placeholder=\"Choose a file or drop it here...\"\r\n    drop-placeholder=\"Drop file here...\"\r\n    ></b-form-file>\r\n\r\n\r\n\r\n\r\n\r\n    <!-- Checkboxes list -->\r\n    <!-- https://makitweb.com/check-uncheck-all-checkboxes-with-vue-js/ -->\r\n    <!-- <ul>\r\n    <li v-for='lang in langsdata' :key='lang'>\r\n    <input type='checkbox' v-bind:value='lang' v-model='languages' @change='updateCheckall()'>{{ lang }}\r\n  </li>\r\n</ul>\r\n\r\n\r\n<input type='button' @click='printValues()' value='Print Selected Values'>\r\n\r\n<br>\r\nSelected items : {{ selectedlang }}\r\n\r\n-{{ selecteds.length }}-<br> -->\r\n{{ contacts.length }} imports <b-button class=\"m3\" @click=\"importer\">Import</b-button>\r\n\r\n<!-- [ ] Import All  [ ] Select (radio)  <br> -->\r\n<!-- Check All -->\r\n<br>\r\n<input type='checkbox' @click='checkAll()' v-model='isCheckAll'> Check All\r\n<br>\r\n<b-list-group>\r\n  <b-list-group-item v-for=\"(contact, i) in contacts\" :key=\"i\">\r\n    <b-form-checkbox\r\n    class=\"contact_ckecked\"\r\n    :id=\"'checkbox-'+i\"\r\n    :name=\"'checkbox-'+i\"\r\n    v-model=\"contact.checked\"\r\n    >\r\n    <h6>\r\n      <b-button v-b-toggle=\"'collapse-2'+i\" class=\"m-1\" variant=\"info\" size=\"sm\">+</b-button>\r\n      {{ contact.get('n') || contact.get('fn') }}\r\n    </h6>\r\n\r\n  </b-form-checkbox>\r\n\r\n\r\n\r\n  <!-- Element to collapse -->\r\n  <b-collapse :id=\"'collapse-2'+i\">\r\n    <b-card >{{ contact.checked }}<small>{{ contact.data }}</small></b-card>\r\n  </b-collapse>\r\n\r\n  <!-- <b-button v-b-toggle=\"'collapse-'+i\" class=\"m-1\">show</b-button>\r\n  <b-collapse id=\"'collapse-'+i\">\r\n  <b-card><small>{{ contact.data }}</small></b-card>\r\n</b-collapse> -->\r\n\r\n\r\n\r\n</b-list-group-item>\r\n</b-list-group>\r\n\r\n</b-container>\r\n</template>\r\n\r\n<script>\r\nimport vCard from 'vcf' // https://www.npmjs.com/package/vcf\r\n//console.log(vCard)\r\nimport utf8 from 'utf8'\r\nimport  quotedPrintable from 'quoted-printable';\r\nconsole.log(quotedPrintable)\r\nimport Vcard from '@/models/Vcard.js'\r\n\r\n\r\nexport default {\r\n  name: 'Import',\r\n  data() {\r\n    return {\r\n      file: null,\r\n      contacts : [],\r\n      isCheckAll: false,\r\n      langsdata: [\"PHP\",\"Vue.js\",\"AngularJS\",\"jQuery\",\"JavaScript\"],\r\n      languages: [],\r\n      selectedlang: \"\"\r\n    };\r\n  },\r\n  watch:{\r\n    file(file){\r\n      console.log(file)\r\n      if (file) {\r\n        let app = this\r\n        var reader = new FileReader();\r\n        reader.readAsText(file, \"UTF-8\");\r\n        reader.onload = function (evt) {\r\n          //  console.log(evt.target.result)\r\n          // one card  var card = new vCard().parse( evt.target.result )\r\n          app.contacts = vCard.parse( evt.target.result )\r\n          app.contacts.forEach(function (c) {\r\n            c.checked = true;\r\n          });\r\n          // app.contacts = app.contacts.map(function(el) {\r\n          //   var o = Object.assign({}, el);\r\n          //   o.checked = true;\r\n          //   return o;\r\n          // })\r\n          console.log(app.contacts)\r\n          //   document.getElementById(\"fileContents\").innerHTML = evt.target.result;\r\n        }\r\n        reader.onerror = function (evt) {\r\n          console.log(\"ERROR\",evt.target.result)\r\n          // document.getElementById(\"fileContents\").innerHTML = \"error reading file\";\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    importer() {\r\n      console.log(this.contacts)\r\n      this.contacts.forEach((c) => {\r\n        if (c.checked && c.checked == true){\r\n          let contact = this.convert(c)\r\n          console.log(contact)\r\n          this.vcard = new Vcard(contact)\r\n          console.log(\"vcard\", this.vcard)\r\n\r\n          this.$store.dispatch('contacts/add',this.vcard)\r\n          this.$router.push({ name: 'Contacts', params: { vcard: this.vcard } })\r\n        }\r\n      });\r\n    },\r\n    convert(c){\r\n      console.log(c.data)\r\n      let data = {}\r\n      //   let predicates = {n: 'vcard:Name',\r\n      //   fn: 'vcard:FamilyName',\r\n      //   tel: 'vcard:hasTelephone',\r\n      //   email: 'vcard:hasEmail',\r\n      //   bday: 'vcard:bday',\r\n      //   adr: 'vcard:adr',\r\n      //   org,\r\n      //   title,\r\n      //   url: 'vcard:hasURL',\r\n      //   photo: 'vcard:hasPhoto',\r\n      //   note\r\n      // }\r\n\r\n      const predicate = (key) => ({\r\n        n: 'vcard:hasName',\r\n        fn: 'vcard:FamilyName',\r\n        tel: 'vcard:hasTelephone',\r\n        email: 'vcard:hasEmail',\r\n        bday: 'vcard:bday',\r\n        adr: 'vcard:hasAddress',\r\n        org: 'vcard:org',\r\n        title: 'vcard:title' ,\r\n        url: 'vcard:hasURL',\r\n        photo: 'vcard:hasPhoto',\r\n        note: 'vcar:note'\r\n      })[key]\r\n\r\n      for (const [key, value] of Object.entries(c.data)) {\r\n        if (!key.startsWith('=')){ // strange key , this is an encoded value\r\n          console.log(key, value);\r\n          if(Array.isArray(value)){\r\n            value.forEach((v) => {\r\n              let val = this.translate(key,v)\r\n              console.log(val)\r\n              let pred = predicate(key)\r\n              data[pred] = val\r\n            });\r\n\r\n          }else{\r\n            let val = this.translate(key,value)\r\n            console.log(val)\r\n            let pred = predicate(key)\r\n            data[pred] = val\r\n          }\r\n        }\r\n      }\r\n      return data\r\n    },\r\n    translate(key,v){\r\n      console.log(key,v)\r\n      if(v.encoding == 'QUOTED-PRINTABLE'){\r\n        //  console.log(v._data)\r\n        return  utf8.decode(quotedPrintable.decode(v._data));\r\n      }else if(v.encoding == 'BASE64'){\r\n        console.log(\"todo ? decode base64 img or let the base 64 ?\")\r\n        return  v._data\r\n      }else{\r\n\r\n        return v._data\r\n      }\r\n    },\r\n    checkAll: function(){\r\n\r\n      this.isCheckAll = !this.isCheckAll;\r\n      this.languages = [];\r\n      if(this.isCheckAll){ // Check all\r\n        for (var key in this.langsdata) {\r\n          this.languages.push(this.langsdata[key]);\r\n        }\r\n      }\r\n    },\r\n    updateCheckall: function(){\r\n      if(this.languages.length == this.langsdata.length){\r\n        this.isCheckAll = true;\r\n      }else{\r\n        this.isCheckAll = false;\r\n      }\r\n    },\r\n    printValues: function(){\r\n      this.selectedlang = \"\";\r\n      // Read Checked checkboxes value\r\n      for (var key in this.languages) {\r\n        this.selectedlang += this.languages[key]+\", \";\r\n      }\r\n    }\r\n\r\n  },\r\n  computed:{\r\n    selecteds(){\r\n      let selecteds = document.querySelectorAll(\".contact_ckecked\")\r\n      console.log(selecteds)\r\n      return selecteds\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Import.vue?vue&type=template&id=6b1c8c0a&\"\nimport script from \"./Import.vue?vue&type=script&lang=js&\"\nexport * from \"./Import.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nconst CRLF = '\\r\\n'\n\nconst SP = ' '\n\n\n/**\n * Maximum line length (excluding <CR><LF>)\n * There are two limits that RFC 5322 places on the number of\n * characters in a line. Each line of characters MUST be\n * no more than 998 characters, and SHOULD be no more\n * than 78 characters, excluding the <CR><LF>.\n * @type {Number}\n * @constant\n */\nconst MAX_LINE_LENGTH = 998\n\n/**\n * Default maximum line length (excluding <CR><LF>)\n * @type {Number}\n * @constant\n */\nconst DEFAULT_LINE_LENGTH = 78\n\n/**\n * Minimum `maxLength` that can be used\n * @type {Number}\n * @constant\n */\nconst MIN_LINE_LENGTH = 2\n\n/**\n * Folds a long line according to RFC 5322\n * @see http://tools.ietf.org/html/rfc5322#section-2.1.1\n *\n * @param {String} input - input string\n * @param {Number} maxLength - maximum line length (excluding CRLF)\n * @param {Boolean} hardWrap - whether to insert a hard break at `maxLength`\n * @returns {String}\n */\nfunction foldLine( input, maxLength, hardWrap ) {\n\n  if( maxLength != null && maxLength < MIN_LINE_LENGTH ) {\n    throw new Error( 'Maximum length must not be less than ' + MIN_LINE_LENGTH )\n  }\n\n  if( maxLength != null && maxLength > MAX_LINE_LENGTH ) {\n    throw new Error( 'Maximum length must not exceed ' + MAX_LINE_LENGTH )\n  }\n\n  // RFC compliant default line length\n  maxLength = maxLength || DEFAULT_LINE_LENGTH\n\n  input = input.replace( /[\\r\\n]+/g, '' )\n\n  // We really don't need to fold this\n  if( input.length <= maxLength ) {\n    return input\n  }\n\n  var output = ''\n  var index = 0\n  var nextIndex = 0\n  var length = input.length\n  var line = 0\n  var trim = 0\n\n  while( index < length ) {\n    if( !hardWrap && ~( nextIndex = input.lastIndexOf( SP, index + maxLength ) ) ) {\n      if( nextIndex > index ) {\n        output += input.slice( index, nextIndex ) + CRLF + SP\n        index = nextIndex\n      } else {\n        output += input.slice( index, index + maxLength - trim ) + CRLF + SP\n        index = index + maxLength - trim\n        hardWrap = true\n      }\n    } else {\n      output += input.slice( index, index + maxLength - trim ) + CRLF + SP\n      index = index + maxLength - trim\n    }\n    if( ( length - index ) < maxLength ) {\n      output += input.slice( index )\n      break\n    }\n    if( line === 0 ) {\n      trim = 1\n    }\n    line++\n  }\n\n  return output\n\n}\n\nfoldLine.unfold = function unfold( input ) {\n  return input.replace( /\\r\\n\\s/gm, '' )\n}\n\nmodule.exports = foldLine\n","/**\n * vCard Property\n * @constructor\n * @memberOf vCard\n * @param {String} field\n * @param {String} value\n * @param {Object} params\n * @return {Property}\n */\nfunction Property( field, value, params ) {\n\n  if( !(this instanceof Property) )\n    return new Property( value )\n\n  if( params != null )\n    Object.assign( this, params )\n\n  this._field = field\n  this._data = value\n\n  Object.defineProperty( this, '_field', { enumerable: false })\n  Object.defineProperty( this, '_data', { enumerable: false })\n\n}\n\n/**\n * Constructs a vCard.Property from jCard data\n * @param  {Array} data\n * @return {Property}\n */\nProperty.fromJSON = function( data ) {\n\n  var field = data[0]\n  var params = data[1]\n\n  if( !/text/i.test( data[2] ) )\n    params.value = data[2]\n\n  var value = Array.isArray( data[3] ) ?\n    data[3].join( ';' ) : data[3]\n\n  return new Property( field, value, params )\n\n}\n\n/**\n * Turn a string into capitalized dash-case\n * @internal used by `Property#toString()`\n * @param  {String} value\n * @return {String}\n * @ignore\n */\nfunction capitalDashCase( value ) {\n  return value.replace( /([A-Z])/g, '-$1' ).toUpperCase()\n}\n\n/**\n * Property prototype\n * @type {Object}\n */\nProperty.prototype = {\n\n  constructor: Property,\n\n  /**\n   * Check whether the property is of a given type\n   * @param  {String}  type\n   * @return {Boolean}\n   */\n  is: function( type ) {\n    type = ( type + '' ).toLowerCase()\n    return Array.isArray( this.type ) ?\n      this.type.indexOf( type ) >= 0 :\n      this.type === type\n  },\n\n  /**\n   * Check whether the property is empty\n   * @return {Boolean}\n   */\n  isEmpty: function() {\n    return this._data == null &&\n      Object.keys( this ).length === 0\n  },\n\n  /**\n   * Clone the property\n   * @return {Property}\n   */\n  clone: function() {\n    return new Property( this._field, this._data, this )\n  },\n\n  /**\n   * Format the property as vcf with given version\n   * @param  {String} version\n   * @return {String}\n   */\n  toString: function( version ) {\n\n    var propName = (this.group ? this.group + '.' : '') + capitalDashCase( this._field )\n    var keys = Object.keys( this )\n    var params = []\n\n    for( var i = 0; i < keys.length; i++ ) {\n      if (keys[i] === 'group') continue\n\n      switch (propName) {\n        case 'TEL':\n        case 'ADR':\n        case 'EMAIL':\n          if (version === '2.1') {\n            if (Array.isArray(this[keys[i]]))\n              params.push(this[keys[i]].join(';'))\n            else\n              params.push(this[keys[i]])\n          }\n          else\n            params.push(capitalDashCase(keys[i]) + '=' + this[keys[i]])\n          break\n        default:\n          params.push(capitalDashCase(keys[i]) + '=' + this[keys[i]])\n      }\n    }\n\n    if (version === '2.1' || version === '3.0')\n      return propName +\n        ( params.length ? ';' + params.join( ';' ).toUpperCase() : params.toString().toUpperCase() ) + ':' +\n        ( Array.isArray( this._data ) ? this._data.join( ';' ) : this._data )\n    else\n      return propName +\n        ( params.length ? ';' + params.join( ';' ) : params ) + ':' +\n        ( Array.isArray( this._data ) ? this._data.join( ';' ) : this._data )\n\n  },\n\n  /**\n   * Get the property's value\n   * @return {String}\n   */\n  valueOf: function() {\n    return this._data\n  },\n\n  /**\n   * Format the property as jCard data\n   * @return {Array}\n   */\n  toJSON: function() {\n\n    var params = Object.assign({},this)\n\n    if( params.value === 'text' ) {\n      params.value = void 0\n      delete params.value\n    }\n\n    var data = [ this._field, params, this.value || 'text' ]\n\n    switch( this._field ) {\n      default: data.push( this._data ); break\n      case 'adr':\n      case 'n':\n        data.push( this._data.split( ';' ) )\n    }\n\n    return data\n\n  },\n\n}\n\n// Exports\nmodule.exports = Property\n","/*! https://mths.be/quoted-printable v1.0.1 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\tvar decode = function(input) {\n\t\treturn input\n\t\t\t// https://tools.ietf.org/html/rfc2045#section-6.7, rule 3:\n\t\t\t// Therefore, when decoding a `Quoted-Printable` body, any trailing white\n\t\t\t// space on a line must be deleted, as it will necessarily have been added\n\t\t\t// by intermediate transport agents.\n\t\t\t.replace(/[\\t\\x20]$/gm, '')\n\t\t\t// Remove hard line breaks preceded by `=`. Proper `Quoted-Printable`-\n\t\t\t// encoded data only contains CRLF line  endings, but for compatibility\n\t\t\t// reasons we support separate CR and LF too.\n\t\t\t.replace(/=(?:\\r\\n?|\\n|$)/g, '')\n\t\t\t// Decode escape sequences of the form `=XX` where `XX` is any\n\t\t\t// combination of two hexidecimal digits. For optimal compatibility,\n\t\t\t// lowercase hexadecimal digits are supported as well. See\n\t\t\t// https://tools.ietf.org/html/rfc2045#section-6.7, note 1.\n\t\t\t.replace(/=([a-fA-F0-9]{2})/g, function($0, $1) {\n\t\t\t\tvar codePoint = parseInt($1, 16);\n\t\t\t\treturn stringFromCharCode(codePoint);\n\t\t\t});\n\t};\n\n\tvar handleTrailingCharacters = function(string) {\n\t\treturn string\n\t\t\t.replace(/\\x20$/, '=20') // Handle trailing space.\n\t\t\t.replace(/\\t$/, '=09') // Handle trailing tab.\n\t};\n\n\tvar regexUnsafeSymbols = /[\\0-\\x08\\n-\\x1F=\\x7F-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\tvar encode = function(string) {\n\n\t\t// Encode symbols that are definitely unsafe (i.e. unsafe in any context).\n\t\tvar encoded = string.replace(regexUnsafeSymbols, function(symbol) {\n\t\t\tif (symbol > '\\xFF') {\n\t\t\t\tthrow RangeError(\n\t\t\t\t\t'`quotedPrintable.encode()` expects extended ASCII input only. ' +\n\t\t\t\t\t'Don\\u2019t forget to encode the input first using a character ' +\n\t\t\t\t\t'encoding like UTF-8.'\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar codePoint = symbol.charCodeAt(0);\n\t\t\tvar hexadecimal = codePoint.toString(16).toUpperCase();\n\t\t\treturn '=' + ('0' + hexadecimal).slice(-2);\n\t\t});\n\n\t\t// Limit lines to 76 characters (not counting the CRLF line endings).\n\t\tvar lines = encoded.split(/\\r\\n?|\\n/g);\n\t\tvar lineIndex = -1;\n\t\tvar lineCount = lines.length;\n\t\tvar result = [];\n\t\twhile (++lineIndex < lineCount) {\n\t\t\tvar line = lines[lineIndex];\n\t\t\t// Leave room for the trailing `=` for soft line breaks.\n\t\t\tvar LINE_LENGTH = 75;\n\t\t\tvar index = 0;\n\t\t\tvar length = line.length;\n\t\t\twhile (index < length) {\n\t\t\t\tvar buffer = encoded.slice(index, index + LINE_LENGTH);\n\t\t\t\t// If this line ends with `=`, optionally followed by a single uppercase\n\t\t\t\t// hexadecimal digit, we broke an escape sequence in half. Fix it by\n\t\t\t\t// moving these characters to the next line.\n\t\t\t\tif (/=$/.test(buffer)) {\n\t\t\t\t\tbuffer = buffer.slice(0, LINE_LENGTH - 1);\n\t\t\t\t\tindex += LINE_LENGTH - 1;\n\t\t\t\t} else if (/=[A-F0-9]$/.test(buffer)) {\n\t\t\t\t\tbuffer = buffer.slice(0, LINE_LENGTH - 2);\n\t\t\t\t\tindex += LINE_LENGTH - 2;\n\t\t\t\t} else {\n\t\t\t\t\tindex += LINE_LENGTH;\n\t\t\t\t}\n\t\t\t\tresult.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\t// Encode space and tab characters at the end of encoded lines. Note that\n\t\t// with the current implementation, this can only occur at the very end of\n\t\t// the encoded string  every other line ends with `=` anyway.\n\t\tvar lastLineLength = buffer.length;\n\t\tif (/[\\t\\x20]$/.test(buffer)) {\n\t\t\t// Theres a space or a tab at the end of the last encoded line. Remove\n\t\t\t// this line from the `result` array, as it needs to change.\n\t\t\tresult.pop();\n\t\t\tif (lastLineLength + 2 <= LINE_LENGTH + 1) {\n\t\t\t\t// Its possible to encode the character without exceeding the line\n\t\t\t\t// length limit.\n\t\t\t\tresult.push(\n\t\t\t\t\thandleTrailingCharacters(buffer)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// Its not possible to encode the character without exceeding the line\n\t\t\t\t// length limit. Remvoe the character from the line, and insert a new\n\t\t\t\t// line that contains only the encoded character.\n\t\t\t\tresult.push(\n\t\t\t\t\tbuffer.slice(0, lastLineLength - 1),\n\t\t\t\t\thandleTrailingCharacters(\n\t\t\t\t\t\tbuffer.slice(lastLineLength - 1, lastLineLength)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// `Quoted-Printable` uses CRLF.\n\t\treturn result.join('=\\r\\n');\n\t};\n\n\tvar quotedPrintable = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '1.0.1'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn quotedPrintable;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = quotedPrintable;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in quotedPrintable) {\n\t\t\t\tquotedPrintable.hasOwnProperty(key) && (freeExports[key] = quotedPrintable[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.quotedPrintable = quotedPrintable;\n\t}\n\n}(this));\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","export default function _asyncIterator(iterable) {\n  var method;\n\n  if (typeof Symbol !== \"undefined\") {\n    if (Symbol.asyncIterator) {\n      method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      method = iterable[Symbol.iterator];\n      if (method != null) return method.call(iterable);\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    promise\n        .then((value) => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n            cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n    })\n        .catch(() => { });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Polyfill for objectStoreNames because of Edge.\n            if (prop === 'objectStoreNames') {\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\n            }\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n    if (func === IDBDatabase.prototype.transaction &&\n        !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n            const tx = func.call(unwrap(this), storeNames, ...args);\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n            return wrap(tx);\n        };\n    }\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(cursorRequestMap.get(this));\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };\n","import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction));\n        });\n    }\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking)\n            db.addEventListener('versionchange', () => blocking());\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nexport { deleteDB, openDB };\n","import { r as replaceTraps, i as instanceOfAny, a as reverseTransformCache, u as unwrap } from './wrap-idb-value.js';\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n","import { openDB } from 'idb/with-async-ittr.js';\r\n\r\nexport default class Thing {\r\n  constructor() {\r\n    this.jsonld = {\r\n      '@context': {\r\n        owl: \"http://www.w3.org/2002/07/owl#\",\r\n        as: \"https://www.w3.org/ns/activitystreams\",\r\n        schema: \"http://schema.org/\"\r\n      },\r\n      '@id': null,\r\n      '@type': \"owl:Thing\",\r\n      'schema:name': \"__NEW__THING__\"\r\n    }\r\n  }\r\n\r\n  save(options = {}){\r\n    console.log(\"save\",this,  options)\r\n    this.demo()\r\n  }\r\n  async demo() {\r\n    const db = await openDB('Articles', 1, {\r\n      upgrade(db) {\r\n        // Create a store of objects\r\n        const store = db.createObjectStore('articles', {\r\n          // The 'id' property of the object will be the key.\r\n          keyPath: '@id',\r\n          // If it isn't explicitly set, create a value by auto incrementing.\r\n          //  autoIncrement: true,\r\n        });\r\n        // Create an index on the 'date' property of the objects.\r\n        store.createIndex('date', 'date');\r\n      },\r\n    });\r\n\r\n    // Add an article:\r\n    await db.add('articles', {\r\n      '@id': 'boo1',\r\n      title: 'Article 1',\r\n      date: new Date('2019-01-01'),\r\n      body: 'Article one',\r\n    });\r\n\r\n    // Add multiple articles in one transaction:\r\n    {\r\n      const tx = db.transaction('articles', 'readwrite');\r\n      await Promise.all([\r\n        tx.store.add({\r\n          '@id': 'boo2',\r\n          title: 'Article 2',\r\n          date: new Date('2019-01-01'),\r\n          body: 'deuxieme ',\r\n        }),\r\n        tx.store.add({\r\n          '@id': 'boo3',\r\n          title: 'Article 3',\r\n          date: new Date('2019-01-02'),\r\n          body: 'et trois',\r\n        }),\r\n        tx.done,\r\n      ]);\r\n    }\r\n\r\n    // Get all the articles in date order:\r\n    console.log(await db.getAllFromIndex('articles', 'date'));\r\n\r\n    // Add 'And, happy new year!' to all articles on 2019-01-01:\r\n    {\r\n      const tx = db.transaction('articles', 'readwrite');\r\n      const index = tx.store.index('date');\r\n\r\n      for await (const cursor of index.iterate(new Date('2019-01-01'))) {\r\n        const article = { ...cursor.value };\r\n        article.body += ' And, happy new year!';\r\n        cursor.update(article);\r\n      }\r\n\r\n      await tx.done;\r\n    }\r\n  }\r\n}\r\n","import Thing from './Thing.js'\r\n//import VCardContext from '@/models/Vcard.jsonld.js'\r\n\r\n\r\nlet default_options = {\r\n  '@id': null,\r\n  'vcard:hasName': \"\",\r\n  '@type': \"vcard:VCard\",\r\n  'vcard:given-name': \"\",\r\n  'vcard:family-name': \"\",\r\n  'vcard:hasPhoto': 'https://image.flaticon.com/icons/svg/149/149992.svg'\r\n\r\n}\r\n//https://raw.githubusercontent.com/lanthaler/vCardOntology/master/Vcard.jsonld\r\n\r\nexport default class Vcard extends Thing {\r\n  constructor(options = default_options) {\r\n    super()\r\n    // assign context\r\n  //  Object.assign(this.jsonld['@context'], VCardContext)\r\n    // default\r\n\r\n\r\n    // assign options\r\n    Object.assign(this, options)\r\n\r\n    //this.jsonld['@type'] = \"vcard:VCard\",\r\n    //this.jsonld['vcard:hasName'] = \"__NEW__vcard:Name__\"\r\n\r\n\r\n    // this.basic_fields = [\r\n    //   this.picture = 'https://image.flaticon.com/icons/svg/149/149992.svg',\r\n    //   this.name = '',\r\n    //   this.birth = '',\r\n    //   this.email = '',\r\n    //   this.phone = '',\r\n    //   this.nationality = '',\r\n    // ]\r\n\r\n    //   this['@context'] = {\r\n    //     as: \"https://www.w3.org/ns/activitystreams\",\r\n    //     schema: \"http://schema.org/\"\r\n    //   },\r\n    //   this['@id'] = null\r\n    //   this['@type'] = \"Vcard\"\r\n    //   this['schema:name'] = \"__NEW__VCARD__\"\r\n  }\r\n}\r\n","/*! https://mths.be/utf8js v2.1.2 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tcheckScalarValue(codePoint);\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, its not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.1.2',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n","var camelCase = require( 'camelcase' )\nvar Property = require( './property' )\n\nfunction set( object, key, value ) {\n  if( Array.isArray( object[ key ] ) ) {\n    object[ key ].push( value )\n  } else if( object[ key ] != null ) {\n    object[ key ] = [ object[ key ], value ]\n  } else{\n    object[ key ] = value\n  }\n}\n\nfunction createParams( params, param ) {\n\n  var parts = param.split( '=' )\n  var k = camelCase( parts[0] )\n  var value = parts[1]\n\n  if( value == null || value === '' ) {\n    value = parts[0]\n    k = 'type'\n  }\n\n  if( k === 'type' ) {\n\n    if (value[ 0 ] === '\"' && value[ value.length - 1 ] === '\"' && value.indexOf(',') !== -1)\n      value = value.slice(1, -1)\n    value.toLowerCase().split( ',' ).forEach( function( value ) {\n      set( params, k, value )\n    })\n\n    return params\n\n  }\n\n  set( params, k, value )\n\n  return params\n\n}\n\nfunction parseLines( lines ) {\n\n  var data = {}\n\n  // NOTE: Line format:\n  //  PROPERTY[;PARAMETER[=VALUE]]:Attribute[;Attribute]\n  var line = null\n  var pattern = /^([^;:]+)((?:;(?:[^;:]+))*)(?:\\:([\\s\\S]+))?$/i\n  var len = lines.length - 1\n\n  for( var i = 1; i < len; i++ ) {\n\n    line = lines[i]\n\n    var match = pattern.exec( line )\n    if( !match ) continue;\n\n    var name = match[1].split('.')\n    var property = name.pop()\n    var group = name.pop()\n    var value = match[3]\n    var params = match[2] ?\n      match[2].replace( /^;|;$/g, '' ).split( ';' ) : []\n\n    var propParams = params.reduce( createParams, group ? { group: group } : {})\n    var propName = camelCase( property )\n    var propVal = new Property( propName, value, propParams )\n\n    set( data, propName, propVal )\n\n  }\n\n  return data\n\n}\n\nmodule.exports = parseLines\n"],"sourceRoot":""}