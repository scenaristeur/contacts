{"version":3,"sources":["webpack:///./src/views/SolidRestTest.vue?fd12","webpack:///src/views/SolidRestTest.vue","webpack:///./src/views/SolidRestTest.vue?5e78","webpack:///./src/views/SolidRestTest.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","result","on","create","read","staticRenderFns","console","log","rest","show","msg","runRest","name","data","base","file","text","contacts_path","methods","component"],"mappings":"sHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,qBAAqBN,EAAIM,GAAG,aAAaN,EAAIO,GAAGP,EAAIQ,QAAQ,KAAKJ,EAAG,WAAW,CAACK,GAAG,CAAC,MAAQT,EAAIU,SAAS,CAACV,EAAIM,GAAG,YAAYF,EAAG,WAAW,CAACK,GAAG,CAAC,MAAQT,EAAIW,OAAO,CAACX,EAAIM,GAAG,WAAW,IACpTM,EAAkB,G,oCCYtB,sCACAC,QAAQC,IAAIC,GACZ,4BACA,qBACA,kB,SAGA,E,kGAAA,8GACA,oBADA,SAEA,iCAFA,cAEA,EAFA,gBAGA,WAHA,UAGA,EAHA,YAIA,eAJA,uCAIA,SAJA,yBAIA,EAJA,kDAIA,SAJA,wBAKA,WALA,4C,wBAQA,SAASC,EAAKC,GAGZJ,QAAQC,IAAI,MAAd,kBAbAI,EAAQ,EAAR,GAqBA,OACEC,KAAM,gBAENC,KAHF,WAII,MAAO,CACLC,KAAN,sBACMC,KAAN,2BACMC,KAAN,gBACMf,OAAQ,cACRgB,cAAN,KAGE,QAZF,WAYA,gLACA,gBADA,uBAEA,SAFA,cAEA,EAFA,gBAGA,SAHA,OAGA,EAHA,OAIA,eACA,WACA,oCANA,+CAQEC,QAAS,CACP,OADJ,WACA,qKACA,KACA,qCACA,iDACA,eAJA,SAKA,+DALA,8CAQI,KATJ,WASA,8KACA,uBADA,OACA,EADA,OAEA,eAFA,8CASI,MAlBJ,WAkBA,yKACA,EADA,sDAEA,SAFA,gBAIA,WAJA,uBAKA,SALA,cAKA,EALA,gBAMA,SANA,OAMA,EANA,OAOA,eACA,WARA,+CAaI,IA/BJ,SA+BA,gKACA,8DADA,sFAGI,KAlCJ,SAkCA,gKACA,2BADA,sFAGI,IArCJ,SAqCA,uOACA,4DADA,sFAGI,OAxCJ,SAwCA,gKACA,6BADA,sFAGI,KA3CJ,SA2CA,sKACA,WACA,cACA,qDACA,SAJA,sFAOI,SAlDJ,SAkDA,4KACA,oDADA,kBAEA,iBAFA,8CAII,WAtDJ,SAsDA,0KACA,0DADA,kBAEA,kBAFA,gDCjHuV,I,YCOnVC,EAAY,eACd,EACA3B,EACAa,GACA,EACA,KACA,KACA,MAIa,aAAAc,E","file":"js/solidresttest.d9f0ce2e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('h3',[_vm._v(\"Solid Rest Test\")]),_vm._v(\" result : \"+_vm._s(_vm.result)+\" \"),_c('b-button',{on:{\"click\":_vm.create}},[_vm._v(\"Create\")]),_c('b-button',{on:{\"click\":_vm.read}},[_vm._v(\"Read\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container>\r\n    <h3>Solid Rest Test</h3>\r\n    result : {{ result}}\r\n\r\n    <b-button @click=\"create\">Create</b-button>\r\n    <b-button @click=\"read\">Read</b-button>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\n/*global SolidRest, SolidBrowserFS*/\r\n/*eslint no-undef: \"error\"*/\r\nconst rest = new SolidRest([new SolidBrowserFS()])\r\nconsole.log(rest)\r\nconst base = \"app://bfs/IndexedDB\"\r\nconst file = base + \"/test-file.ttl\"\r\nconst text = \"<> a <#test>.\"\r\nrunRest( file, text )\r\n\r\nasync function runRest(file,text){\r\n  console.log('init')\r\n  let response = await rest.fetch( file,{method:\"PUT\",body:text} )\r\n  response = await rest.fetch( file )\r\n  if(response.status==200 && await response.text()==text) show(\"OK!\")\r\n  else show(\"FAIL!\")\r\n}\r\n\r\nfunction show(msg){\r\n  // let display = document.getElementById(\"results\")\r\n  // display.innerHTML = display.innerHTML + `<p>${msg}</p>`\r\n  console.log( `<p>${msg}</p>`  )\r\n}\r\n\r\nimport { v4 as uuidv4 } from 'uuid';\r\n// import auth from 'solid-auth-client';\r\n// import FC from 'solid-file-client'\r\n// const fc = new FC( auth )\r\n\r\nexport default {\r\n  name: 'SolidRestTest',\r\n\r\n  data() {\r\n    return {\r\n      base : \"app://bfs/IndexedDB\",\r\n      file : this.base + \"/test-file.ttl\",\r\n      text : \"<> a <#test>.\",\r\n      result: \"must change\",\r\n      contacts_path : \"\"\r\n    };\r\n  },\r\n  async created(){\r\n    await this.PUT(file, this.text)\r\n    let res =  await this.GET(file)\r\n    let text = await res.text()\r\n    console.log(text)\r\n    this.result = text\r\n    this.contacts_path = this.base+'/contacts/'\r\n  },\r\n  methods: {\r\n    async create(){\r\n      let contact = {}\r\n      contact['@id'] = uuidv4()+'.jsonld'\r\n      contact['schema:dateCreated'] = new Date().toISOString()\r\n      console.log(contact)\r\n      await this.PUT(this.contacts_path+contact['@id'], JSON.stringify(contact), \"text/plain\")\r\n\r\n    },\r\n    async read(){\r\n      let res = await this.GET(this.contacts_path)\r\n      console.log(res)\r\n      // console.log(this.contacts_path)\r\n      // await fc.readFolder(this.contacts_path).then(async function(folder){\r\n      //   console.log('folder',folder)\r\n      // })\r\n    },\r\n\r\n    async test1(){\r\n      let data = `<> a <#test>. \\n\r\n      <> dct:dateCreated \"${new Date()}\" .`\r\n\r\n      await this.PUT(file, data)\r\n      let res =  await this.GET(file)\r\n      let text = await res.text()\r\n      console.log(text)\r\n      this.result = text\r\n    },\r\n    // /* =========================================================== */\r\n    // /* REST METHODS                                                */\r\n    // /* =========================================================== */\r\n    async GET(url){\r\n      return await rest.fetch( url, {method:\"GET\", headers:{\"Accept\": 'application/json'}} )\r\n    },\r\n    async HEAD(url){\r\n      return await rest.fetch( url, {method:\"HEAD\"} )\r\n    },\r\n    async PUT(url,text,content_type = \"text/turtle\"){\r\n      return await rest.fetch( url, {method:\"PUT\",body:text,headers:{\"content-type\":content_type}} )\r\n    },\r\n    async DELETE(url){\r\n      return await rest.fetch( url, {method:\"DELETE\"} )\r\n    },\r\n    async POST(parent,item,content,link){\r\n      return await rest.fetch( parent,{\r\n        method:\"POST\",\r\n        headers:{slug:item,link:link,\"content-type\":\"text/turtle\"},\r\n        body:content\r\n      })\r\n    },\r\n    async postFile(parent,file,content){\r\n      let link = '<http://www.w3.org/ns/ldp#Resource>; rel=\"type\"'\r\n      return this.POST(parent,file,content,link)\r\n    },\r\n    async postFolder(parent,folder){\r\n      let link ='<http://www.w3.org/ns/ldp#BasicContainer>; rel=\"type\"'\r\n      return this.POST(parent,folder,'',link)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SolidRestTest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SolidRestTest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SolidRestTest.vue?vue&type=template&id=6787cf9a&\"\nimport script from \"./SolidRestTest.vue?vue&type=script&lang=js&\"\nexport * from \"./SolidRestTest.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}